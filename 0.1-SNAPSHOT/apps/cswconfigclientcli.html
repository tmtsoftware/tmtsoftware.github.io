<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.4.0, mkdocs-material=2.2.2">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.language" content="">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../assets/tmt_favicon.ico">
<title>csw-config-client-cli Â· TMT Common Software (CSW)</title>
<link rel="stylesheet" href="../assets/stylesheets/application.7a4cdee3.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../lib/modernizr/modernizr.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
<label class="md-overlay" data-md-component="overlay" for="drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="TMT Common Software (CSW)" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
TMT Common Software (CSW)
</span>
<span class="md-header-nav__topic">
csw-config-client-cli
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="search"></label>
<div class="md-search__inner">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
<label class="md-icon md-search__icon" for="search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/tmtsoftware/csw-prod"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tmtsoftware/csw-prod
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</span>
<a href="../index.html" title="TMT Common Software (CSW)">
TMT Common Software (CSW)
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/tmtsoftware/csw-prod"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tmtsoftware/csw-prod
</div>
</a>

</div>
<ul>
  <li><a href="../commons/getting-started.html" class="page">Getting Started</a></li>
  <li><a href="../commons/create-component.html" class="page">Creating a Component</a></li>
  <li><a href="../commons/multiple-components.html" class="page">Multiple Components</a></li>
  <li><a href="../commons/messages.html" class="page">Messages</a>
  <ul>
    <li><a href="../messages/keys-parameters.html" class="page">Keys and Parameters</a></li>
    <li><a href="../messages/units.html" class="page">Units</a></li>
    <li><a href="../messages/subsystem.html" class="page">Subsystem</a></li>
    <li><a href="../messages/commands.html" class="page">Commands</a></li>
    <li><a href="../messages/events.html" class="page">Events</a></li>
    <li><a href="../messages/states.html" class="page">State Variables</a></li>
    <li><a href="../messages/result.html" class="page">Result</a></li>
  </ul></li>
  <li><a href="../commons/framework.html" class="page">Framework for creating components (HCD, Assembly, Container)</a>
  <ul>
    <li><a href="../framework/describing-components.html" class="page">ComponentInfo</a></li>
    <li><a href="../framework/creating-components.html" class="page">Creating an Assembly or Hcd Component</a></li>
    <li><a href="../framework/handling-lifecycle.html" class="page">Lifecycle support</a></li>
    <li><a href="../framework/managing-command-state.html" class="page">Managing Command State</a></li>
    <li><a href="../framework/tracking-connections.html" class="page">Tracking Connections</a></li>
    <li><a href="../framework/publishing-state.html" class="page">Publishing State</a></li>
    <li><a href="../framework/handling-exceptions.html" class="page">Handling Exceptions</a></li>
    <li><a href="../framework/deploying-components.html" class="page">Deploying Components</a></li>
  </ul></li>
  <li><a href="../commons/command.html" class="page">Communication using Commands</a></li>
  <li><a href="../commons/services.html" class="page">Services</a>
  <ul>
    <li><a href="../services/location.html" class="page">Location Service</a></li>
    <li><a href="../services/config.html" class="page">Configuration Service</a></li>
    <li><a href="../services/logging.html" class="page">Logging Service</a></li>
  </ul></li>
  <li><a href="../commons/apps.html" class="page">Applications</a>
  <ul>
    <li><a href="../apps/cswclusterseed.html" class="page">csw-cluster-seed</a></li>
    <li><a href="../apps/cswlocationagent.html" class="page">csw-location-agent</a></li>
    <li><a href="../apps/cswonfigserverapp.html" class="page">csw-config-server</a></li>
    <li><a href="../apps/cswconfigclientcli.html" class="active page">csw-config-client-cli</a></li>
    <li><a href="../apps/hostconfig.html" class="page">csw-host-config</a></li>
  </ul></li>
  <li><a href="../commons/testing.html" class="page">Testing</a></li>
  <li><a href="../commons/sbt-tasks.html" class="page">sbt tasks</a></li>
  <li><a href="../commons/manuals.html" class="page">Manuals</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="toc">Table of contents</label>
<ul>
  <li><a href="../apps/cswconfigclientcli.html#csw-config-client-cli" class="header">csw-config-client-cli</a>
  <ul>
    <li><a href="../apps/cswconfigclientcli.html#supported-commands" class="header">Supported Commands</a></li>
    <li><a href="../apps/cswconfigclientcli.html#admin-api" class="header">Admin API</a></li>
    <li><a href="../apps/cswconfigclientcli.html#client-api" class="header">Client API</a></li>
    <li><a href="../apps/cswconfigclientcli.html#about-this-application" class="header">About this application</a></li>
    <li><a href="../apps/cswconfigclientcli.html#examples" class="header">Examples</a></li>
  </ul></li>
</ul>
</nav>

<div class="md-nav__title--site md-version" title="Version">
<i class="md-icon">label_outline</i> 0.1*
</div>
</nav>

</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="toc">Table of contents</label>
<ul>
  <li><a href="../apps/cswconfigclientcli.html#csw-config-client-cli" class="header">csw-config-client-cli</a>
  <ul>
    <li><a href="../apps/cswconfigclientcli.html#supported-commands" class="header">Supported Commands</a></li>
    <li><a href="../apps/cswconfigclientcli.html#admin-api" class="header">Admin API</a></li>
    <li><a href="../apps/cswconfigclientcli.html#client-api" class="header">Client API</a></li>
    <li><a href="../apps/cswconfigclientcli.html#about-this-application" class="header">About this application</a></li>
    <li><a href="../apps/cswconfigclientcli.html#examples" class="header">Examples</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#csw-config-client-cli" name="csw-config-client-cli" class="anchor"><span class="anchor-link"></span></a>csw-config-client-cli</h1>
<p>A command line application that facilitates interaction with Configuration Service. It accepts various commands to store, retrieve, list and manage configuration files.</p>
<h2><a href="#supported-commands" name="supported-commands" class="anchor"><span class="anchor-link"></span></a>Supported Commands</h2>
<p>Note: Exactly one operation must be specified from this list - <code>{create | update | get | delete | list | history | setActiveVersion | resetActiveVersion | getActiveVersion | getActiveByTime | getMetadata | exists | getActive}</code></p>
<h2><a href="#admin-api" name="admin-api" class="anchor"><span class="anchor-link"></span></a>Admin API</h2>
<p>The commands listed below will be used by administrators and maintainers of Configuration Service.</p>
<h3><a href="#create" name="create" class="anchor"><span class="anchor-link"></span></a>create</h3>
<p>Takes an input source file and creates the configuration in the repository at a specified path.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>-i</code>, <code>--in</code> is input file path</li>
  <li><code>--annex</code> is optional parameter. Add this option to specify if the input file must be save to annex store. It usually is the case if file is binary/large(&gt;10 MiB)</li>
  <li><code>-c, --comment</code> optional create comment</li>
</ul>
<h3><a href="#update" name="update" class="anchor"><span class="anchor-link"></span></a>update</h3>
<p>Overwrites the file specified in the repository by the input file.</p>
<ul>
  <li>&lsquo;path&rsquo; is path in the repository</li>
  <li><code>-i</code>, <code>--in</code> is input file path</li>
  <li><code>-c, --comment</code> optional create comment</li>
</ul>
<h3><a href="#get" name="get" class="anchor"><span class="anchor-link"></span></a>get</h3>
<p>Retrieves a file for a given path and saves it to the output file. The latest file is fetched if neither date nor id is specified.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository.</li>
  <li><code>-o</code>, <code>--out</code> is output file path</li>
  <li><code>--id</code> optional. if specified this id will be matched</li>
  <li><code>--date</code> optional. if specified will get the file matching this date. Format: 2017-04-16T16:15:23.503Z</li>
</ul>
<h3><a href="#delete" name="delete" class="anchor"><span class="anchor-link"></span></a>delete</h3>
<p>Deletes the file at the specified path in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>-c, --comment</code> optional delete comment</li>
</ul>
<h3><a href="#list" name="list" class="anchor"><span class="anchor-link"></span></a>list</h3>
<p>Lists the files in the repository. Can&rsquo;t use &lsquo;&ndash;annex&rsquo; and &lsquo;&ndash;normal&rsquo; together.</p>
<ul>
  <li><code>--annex</code> optional parameter. List all files that are of annex type.</li>
  <li><code>--normal</code> optional parameter. List all files that are of normal type.</li>
  <li><code>--pattern</code> optional parameter. List all files whose path matches the given pattern. e.g. &ldquo;/path/hcd/*.*&rdquo;, &ldquo;a/b/c/d.*&rdquo;, &ldquo;.*.conf&rdquo;, &ldquo;.*hcd.*&rdquo;</li>
</ul>
<h3><a href="#history" name="history" class="anchor"><span class="anchor-link"></span></a>history</h3>
<p>Shows the version history of the file in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>--max</code> optional parameter. maximum no of files to be retrieved</li>
</ul>
<h3><a href="#setactiveversion" name="setactiveversion" class="anchor"><span class="anchor-link"></span></a>setActiveVersion</h3>
<p>Sets the active version of the file in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>--id</code> optional parameter. version id of the repository file to set as active.</li>
  <li><code>-c, --comment</code> optional delete comment</li>
</ul>
<h3><a href="#resetactiveversion" name="resetactiveversion" class="anchor"><span class="anchor-link"></span></a>resetActiveVersion</h3>
<p>Resets the active version to the latest version for the specified file path.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>-c, --comment</code> optional reset comment</li>
</ul>
<h3><a href="#getactiveversion" name="getactiveversion" class="anchor"><span class="anchor-link"></span></a>getActiveVersion</h3>
<p>Gets the id of the active version of the file in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
</ul>
<h3><a href="#getactivebytime" name="getactivebytime" class="anchor"><span class="anchor-link"></span></a>getActiveByTime</h3>
<p>Gets the file that was active at a specified time.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>-o</code>, <code>--out</code> is output file path</li>
  <li><code>--date</code> optional. if specified will get the active file matching this date. Format: 2017-04-16T16:15:23.503Z</li>
</ul>
<h3><a href="#getmetadata" name="getmetadata" class="anchor"><span class="anchor-link"></span></a>getMetadata</h3>
<p>Gets the metadata of Configuration Service server e.g. repository directory, annex directory, min annex file size, max config file size.</p>
<h2><a href="#client-api" name="client-api" class="anchor"><span class="anchor-link"></span></a>Client API</h2>
<p>The following commands are available for component developers.</p>
<h3><a href="#exists" name="exists" class="anchor"><span class="anchor-link"></span></a>exists</h3>
<p>Checks if the file exists at specified path in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
</ul>
<h3><a href="#getactive" name="getactive" class="anchor"><span class="anchor-link"></span></a>getActive</h3>
<p>Retrieves active file for a given path from Configuration Service and writes it to the output file.  * &lsquo;relativeRepoPath&rsquo; is path in the repository  * <code>-o</code>, <code>--out</code> is output file path</p>
<h2><a href="#about-this-application" name="about-this-application" class="anchor"><span class="anchor-link"></span></a>About this application</h2>
<h3><a href="#help" name="help" class="anchor"><span class="anchor-link"></span></a>&ndash;help</h3>
<p>Prints the help message.</p>
<h3><a href="#version" name="version" class="anchor"><span class="anchor-link"></span></a>&ndash;version</h3>
<p>Prints the version of the application.</p>
<h2><a href="#examples" name="examples" class="anchor"><span class="anchor-link"></span></a>Examples</h2>
<ol>
  <li>
  <p>
  <pre><code>csw-config-client-cli create /path/hcd/trombone.conf -i /Users/admin/configs/trombone.conf -c &quot;Initial version&quot;
</code></pre>Creates a config file at path <code>/path/hcd/trombone.conf</code>, using local file at <code>/Users/admin/configs/trombone.conf</code>, with <code>Initial version</code> as a comment.</p></li>
  <li>
  <pre><code>csw-config-client-cli create /path/hcd/trombone.conf -i /Users/admin/large-configs/bigBinary.conf --annex
</code></pre>
  <p>Creates a config file at path <code>/path/hcd/trombone.conf</code>, using local file at <code>/Users/admin/large-configs/bigBinary.conf</code>, file will be stored in annex store.</p></li>
  <li>
  <pre><code>csw-config-client-cli update /path/hcd/trombone.conf -i /Users/foo/new_trombone.conf -c &quot;new conf for next observation&quot;
</code></pre>
  <p>Updates repository file <code>/path/hcd/trombone.conf</code>, with a local file at <code>/Users/foo/new_trombone.conf</code>, using a specified comment.</p></li>
  <li>
  <pre><code>csw-config-client-cli get /path/hcd/trombone.conf -o /Users/bar/temp/latest_trombone.conf
</code></pre>
  <p>Gets repository file <code>/path/hcd/trombone.conf</code>, stores at local disk location <code>/Users/bar/temp/latest_trombone.conf</code></p></li>
  <li>
  <pre><code>csw-config-client-cli get /path/hcd/trombone.conf -o /Users/bar/temp/old_trombone.conf --id 10
</code></pre>
  <p>Gets version revision 10 of repository file <code>/path/hcd/trombone.conf</code>, stores at local disk location <code>/Users/bar/temp/old_trombone.conf</code></p></li>
  <li>
  <pre><code>csw-config-client-cli getActive /path/hcd/trombone.conf -o /Users/bar/temp/scheduled_trombone.conf
</code></pre>
  <p>Gets currently active version of repository file <code>/path/hcd/trombone.conf</code>, stores at local disk location <code>/Users/bar/temp/scheduled_trombone.conf</code></p></li>
  <li>
  <pre><code>csw-config-client-cli exists /path/hcd/trombone.conf
</code></pre>
  <p>True if repository file <code>/path/hcd/trombone.conf</code> exists, false otherwise</p></li>
  <li>
  <pre><code>csw-config-client-cli delete /path/hcd/outdated_trombone.conf -c monthly maintainance activity
</code></pre>
  <p>Deletes repository file <code>/path/hcd/outdated_trombone.conf</code> if it exists using a comment</p></li>
  <li>
  <pre><code>csw-config-client-cli history /path/hcd/trombone.conf --max 25
</code></pre>
  <p>Prints history of repository file <code>/path/hcd/trombone.conf</code>, with only 25 entries.</p></li>
  <li>
  <pre><code>csw-config-client-cli setActiveVersion /path/hcd/trombone.conf --id 4 -c restoring last successful version.
</code></pre>
  <p>Sets revision 4 to be active for repository file <code>/path/hcd/trombone.conf</code>, using a comment.</p></li>
  <li>
  <pre><code>csw-config-client-cli resetActiveVersion /path/hcd/trombone.conf -c testing most recent config
</code></pre>
  <p>Sets latest revision to be active for repository file <code>/path/hcd/trombone.conf</code>, using a comment.</p></li>
  <li>
  <pre><code>csw-config-client-cli getActiveVersion /path/hcd/trombone.conf
</code></pre>
  <p>Gets active version ID for repository file <code>/path/hcd/trombone.conf</code>.</p></li>
  <li>
  <pre><code>csw-config-client-cli getActiveByTime /path/hcd/trombone.conf -o /usr/tmp/last_week_trombone.conf --date 2017-05-09T07:29:53.242Z
</code></pre>
  <p>Gets version of repository file <code>/path/hcd/trombone.conf</code>, that was active on <code>2017-05-09T07:29:53.242Z</code> and saves it on local disk.</p></li>
  <li>
  <pre><code>csw-config-client-cli getMetadata
</code></pre>
  <p>Prints the metadata on screen.</p></li>
</ol>
</div>
<div>
<a href="https://github.com/tmtsoftware/csw-prod/tree/master/docs/src/main/apps/cswconfigclientcli.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.1*
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../apps/cswonfigserverapp.html" title="csw-config-server" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
csw-config-server
</span>
</div>
</a>
<a href="../apps/hostconfig.html" title="csw-host-config" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
csw-host-config
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.5165553b.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
