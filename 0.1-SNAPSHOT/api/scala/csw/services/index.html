<!DOCTYPE html >
<html>
        <head>
          <meta http-equiv="X-UA-Compatible" content="IE=edge" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
          <title></title>
          <meta name="description" content="" />
          <meta name="keywords" content="" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../lib/index.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../lib/jquery.js"></script>
      <script type="text/javascript" src="../../lib/jquery.panzoom.min.js"></script>
      <script type="text/javascript" src="../../lib/jquery.mousewheel.min.js"></script>
      <script type="text/javascript" src="../../lib/index.js"></script>
      <script type="text/javascript" src="../../index.js"></script>
      <script type="text/javascript" src="../../lib/scheduler.js"></script>
      <script type="text/javascript" src="../../lib/template.js"></script>
      <script type="text/javascript" src="../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
        /* this variable can be used by the JS to determine the path to the root document */
        var toRoot = '../../';
      </script>
    
        </head>
        <body>
      <div id="search">
        <span id="doc-title"><span id="doc-version"></span></span>
        <span class="close-results"><span class="left">&lt;</span> Back</span>
        <div id="textfilter">
          <span class="input">
            <input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/" />
            <i class="clear material-icons"></i>
            <i id="search-icon" class="material-icons"></i>
          </span>
        </div>
    </div>
      <div id="search-results">
        <div id="search-progress">
          <div id="progress-fill"></div>
        </div>
        <div id="results-content">
          <div id="entity-results"></div>
          <div id="member-results"></div>
        </div>
      </div>
      <div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;">
        <div id="content-container" style="-webkit-overflow-scrolling: touch;">
          <div id="subpackage-spacer">
            <div id="packages">
              <h1>Packages</h1>
              <ul>
                <li name="_root_.root" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="_root_"></a><a id="root:_root_"></a>
      <span class="permalink">
      <a href="index.html#_root_" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../index.html"><span class="name">root</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="_root_.csw" visbl="pub" class="indented1 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="csw"></a><a id="csw:csw"></a>
      <span class="permalink">
      <a href="index.html#csw" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../index.html"><span class="name">csw</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="csw.framework" visbl="pub" class="indented2 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="framework"></a><a id="framework:framework"></a>
      <span class="permalink">
      <a href="../csw/index.html#framework" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="This project contains the framework for creating components, such as HCDs and Assemblies." href="../framework/index.html"><span class="name">framework</span></a>
      </span>
      
      <p class="shortcomment cmt">This project contains the framework for creating components, such as HCDs and Assemblies.</p><div class="fullcomment"><div class="comment cmt"><h4> Framework </h4><p>This project contains the framework for creating components, such as HCDs and Assemblies.</p><p>A component is implemented by extending the <a href="../framework/scaladsl/ComponentHandlers.html" class="extype" name="csw.framework.scaladsl.ComponentHandlers">csw.framework.scaladsl.ComponentHandlers</a> base class.
These handlers are executed under an Supervisor Actor: <span class="extype" name="csw.framework.internal.supervisor.SupervisorBehavior">csw.framework.internal.supervisor.SupervisorBehavior</span>
and TLA Actor (Top Level Actor): <span class="extype" name="csw.framework.internal.component.ComponentBehavior">csw.framework.internal.component.ComponentBehavior</span>
defined in the framework which handles the lifecycle and supervision of this component.</p><p>Components are controlled by a <span class="extype" name="csw.framework.internal.supervisor.SupervisorBehavior">csw.framework.internal.supervisor.SupervisorBehavior</span> actor
that intercepts common messages (ex. Shutdown, Restart) or lifecycle messages (ex. GoOffline or GoOnline)
sent from external entities to determine the state of the component.</p><p>Components that are not in the <a href="../messages/framework/SupervisorLifecycleState$$Running$.html" class="extype" name="csw.messages.framework.SupervisorLifecycleState.Running">csw.messages.framework.SupervisorLifecycleState.Running</a> state, do not receive <a href="../messages/CommandMessage.html" class="extype" name="csw.messages.CommandMessage">csw.messages.CommandMessage</a>.</p><p>When Component is created using this framework, it guarantees that component (HCD/Assembly) is registered with
LocationService only when Component moves to <a href="../messages/framework/SupervisorLifecycleState$$Running$.html" class="extype" name="csw.messages.framework.SupervisorLifecycleState.Running">csw.messages.framework.SupervisorLifecycleState.Running</a> state.
That means, one component can resolve other component only when its in <code><code>Running</code></code> state and ready to accept <a href="../messages/CommandMessage.html" class="extype" name="csw.messages.CommandMessage">messages.CommandMessage</a></p><h5> Important Actors in Framework </h5><p>- <span class="extype" name="csw.framework.internal.supervisor.SupervisorBehavior">csw.framework.internal.supervisor.SupervisorBehavior</span>
: Each component created by this framework is supervised by this actor.</p><p>Default strategy of supervisor is to stop child actor but depending on nature of the failure, the supervisor has a choice of the following two options:</p><ul><li><a href="../framework/exceptions/FailureRestart.html" class="extype" name="csw.framework.exceptions.FailureRestart">csw.framework.exceptions.FailureRestart</a> : Restart the child actor i.e. kill the current child actor that failed and create a new one in its place</li><li><a href="../framework/exceptions/FailureStop.html" class="extype" name="csw.framework.exceptions.FailureStop">csw.framework.exceptions.FailureStop</a> : Stop the child actor permanently</li></ul><p>Supervisor changes its <a href="../messages/framework/SupervisorLifecycleState.html" class="extype" name="csw.messages.framework.SupervisorLifecycleState">csw.messages.framework.SupervisorLifecycleState</a> based on the messages it receives.
Decision to handle external messages or not is taken by the supervisor based on its current <a href="../messages/framework/SupervisorLifecycleState.html" class="extype" name="csw.messages.framework.SupervisorLifecycleState">csw.messages.framework.SupervisorLifecycleState</a>.
For complete list of supported messages per <a href="../messages/framework/SupervisorLifecycleState.html" class="extype" name="csw.messages.framework.SupervisorLifecycleState">csw.messages.framework.SupervisorLifecycleState</a>, see <code>csw-messages</code> project.</p><p>- <span class="extype" name="csw.framework.internal.component.ComponentBehavior">csw.framework.internal.component.ComponentBehavior</span>
: Like Supervisor, evey component is associate with this actor which is known as TLA (Top Level Actor)
And it also maintains its own state <span class="extype" name="csw.framework.internal.component.ComponentLifecycleState">csw.framework.internal.component.ComponentLifecycleState</span> based on messages it receives.</p><p>Main purpose of this actor is to invoke component specific code written in their corresponding handlers.
This is where framework code meets Component specific code.</p><p>- <span class="extype" name="csw.framework.internal.pubsub.PubSubBehavior">csw.framework.internal.pubsub.PubSubBehavior</span>
: This actor is created by framework which is wrapped into <a href="../framework/CurrentStatePublisher.html" class="extype" name="csw.framework.CurrentStatePublisher">csw.framework.CurrentStatePublisher</a> for easy interaction with this actor
and then passed to component handlers so that component can publish their <a href="../messages/params/states/CurrentState.html" class="extype" name="csw.messages.params.states.CurrentState">csw.messages.params.states.CurrentState</a>.</p><p>If one component (ex. Assembly) is interested in <a href="../messages/params/states/CurrentState.html" class="extype" name="csw.messages.params.states.CurrentState">csw.messages.params.states.CurrentState</a> published by other component (ex. HCD)
then Assembly can subscribe to HCD's current state.</p><p>PubSub actor maintains the list of subscribers and keeps publishing <a href="../messages/params/states/CurrentState.html" class="extype" name="csw.messages.params.states.CurrentState">csw.messages.params.states.CurrentState</a> to all subscribers.</p><p>- <span class="extype" name="csw.framework.internal.container.ContainerBehavior">csw.framework.internal.container.ContainerBehavior</span>
: When multiple components needs to be started in container, then this actor is created.
Job of this actor is just to logically group multiple components and support <a href="../messages/SupervisorContainerCommonMessages$.html" class="extype" name="csw.messages.SupervisorContainerCommonMessages">csw.messages.SupervisorContainerCommonMessages</a>.
It receives <a href="../messages/SupervisorContainerCommonMessages$$Shutdown$.html" class="extype" name="csw.messages.SupervisorContainerCommonMessages.Shutdown">csw.messages.SupervisorContainerCommonMessages.Shutdown</a> or <a href="../messages/SupervisorContainerCommonMessages$$Restart$.html" class="extype" name="csw.messages.SupervisorContainerCommonMessages.Restart">csw.messages.SupervisorContainerCommonMessages.Restart</a> message
and forwards it to all the components residing in this container.</p><h4> deploy package </h4><p>- <span class="extype" name="csw.framework.deploy.containercmd.ContainerCmd">csw.framework.deploy.containercmd.ContainerCmd</span>
: ContainerCmd is a helper utility provided by framework to start multiple components in container mode
or single component in Standalone mode.</p><h5> Example of Container Config File </h5><p>Here is an example of a config file for creating a container with the name <i>IRIS_Container</i> that
contains one assembly (named <i>Filter</i>) and depends on the services of two HCDs (<i>Instrument_Filter</i> and <i>Disperser</i>).
Factory class for assembly is <code>csw.common.components.framework.SampleComponentBehaviorFactory</code>.
A <code>Supervisor</code> actor will be created to manage the assembly, which includes registering it with the
location service, using the given name and prefix. The prefix can be used to distribute parts of the
configurations to different HCDs. HCDs register themselves with the Location Service and specify a unique
prefix that can be used for this purpose.</p><pre>name = <span class="lit">"IRIS_Container"</span>
components: [
  {
    name = <span class="lit">"Filter"</span>
    componentType = assembly
    behaviorFactoryClassName = csw.common.components.framework.SampleComponentBehaviorFactory
    prefix = tcs.mobie.blue.filter
    locationServiceUsage = RegisterOnly
    connections = [
      {
        name: Instrument_Filter
        componentType: hcd
        connectionType: akka
      },
      {
        name: Disperser
        componentType: hcd
        connectionType: akka
      }
    ]
  },
  {
    name = <span class="lit">"Instrument_Filter"</span>
    componentType = hcd
    behaviorFactoryClassName = csw.common.components.framework.SampleComponentBehaviorFactory
    prefix = tcs.mobie.blue.filter
    locationServiceUsage = RegisterOnly
  },
  {
    name = <span class="lit">"Disperser"</span>
    componentType: hcd
    behaviorFactoryClassName: csw.common.components.framework.SampleComponentBehaviorFactory
    prefix: tcs.mobie.blue.disperser
    locationServiceUsage = RegisterOnly
  }
]</pre><h5> Example of Standalone Config File </h5><pre>name = <span class="lit">"IFS_Detector"</span>
componentType = hcd
behaviorFactoryClassName = csw.common.components.framework.SampleComponentBehaviorFactory
prefix = iris.ifs
locationServiceUsage = RegisterOnly
connections = []</pre><p>- <span class="extype" name="csw.framework.deploy.hostconfig.HostConfig">csw.framework.deploy.hostconfig.HostConfig</span>
: This is just a helper to create host configuration application.
This support starting multiple containers on a given host machine and each container will have single/multiple components.</p><h5> Example of Host Config file </h5><pre># This is a host configuration file which contains list of containers to be spawned by host configuration app
containers: [
    {
      # mode can be one of Container or Standalone
      mode: <span class="lit">"Container"</span>
      # path of individual container configuration file
      configFilePath: <span class="lit">"/resources/assemblyContainer.conf"</span>
      # provide <span class="lit">'Remote'</span> <span class="kw">if</span> file needs to fetched from config service <span class="kw">else</span>
      # provide <span class="lit">'Local'</span> to fetch file from local machine
      configFileLocation: <span class="lit">"Local"</span>
    },
    {
      mode: <span class="lit">"Standalone"</span>
      configFilePath: <span class="lit">"/resources/hcdStandalone.conf"</span>
      configFileLocation: <span class="lit">"Local"</span>
    }
]</pre></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="csw">csw</a></dd></dl></div>
    </li><li name="csw.messages" visbl="pub" class="indented2 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="messages"></a><a id="messages:messages"></a>
      <span class="permalink">
      <a href="../csw/index.html#messages" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="This project is intended to hold reusable models and messages used throughout the csw source code." href="../messages/index.html"><span class="name">messages</span></a>
      </span>
      
      <p class="shortcomment cmt">This project is intended to hold reusable models and messages used throughout the csw source code.</p><div class="fullcomment"><div class="comment cmt"><h4> Messages </h4><p>This project is intended to hold reusable models and messages used throughout the csw source code.</p><p>This also provides out of the box support to cater to the diverse communication requirements.
Consumer of this library will be able to create Commands, Events, States to store ParameterSets.</p><h4> Imp Packages </h4><h5> Commands and Events </h5><p>This packages contains classes, traits and models used to create *commands* and *events*.
These are all based on type-safe keys and items (a set of values with optional units).
Each key has a specific type and the key's values must be of that type.</p><p>Two types of <a href="../messages/commands/Command.html" class="extype" name="csw.messages.commands.Command">csw.messages.commands.Command</a> are supported:</p><ul><li><a href="../messages/commands/SequenceCommand.html" class="extype" name="csw.messages.commands.SequenceCommand">csw.messages.commands.SequenceCommand</a><ul><li>This commands are targeted to Sequencer. Subtypes of this are: Setup, Observe and Wait.</li></ul></li><li><a href="../messages/commands/ControlCommand.html" class="extype" name="csw.messages.commands.ControlCommand">csw.messages.commands.ControlCommand</a><ul><li>This commands are targeted to Assemblies and HCD's. Subtypes of this are: Setup and Observe.</li></ul></li></ul><p>Following are the concrete commands supported by csw:</p><ul><li><a href="../messages/commands/Setup.html" class="extype" name="csw.messages.commands.Setup">csw.messages.commands.Setup</a></li><li><a href="../messages/commands/Observe.html" class="extype" name="csw.messages.commands.Observe">csw.messages.commands.Observe</a></li><li><a href="../messages/commands/Wait.html" class="extype" name="csw.messages.commands.Wait">csw.messages.commands.Wait</a></li></ul><p>Two types of <a href="../messages/events/Event.html" class="extype" name="csw.messages.events.Event">csw.messages.events.Event</a> are supported:</p><ul><li><a href="../messages/events/SystemEvent.html" class="extype" name="csw.messages.events.SystemEvent">csw.messages.events.SystemEvent</a></li><li><a href="../messages/events/ObserveEvent.html" class="extype" name="csw.messages.events.ObserveEvent">csw.messages.events.ObserveEvent</a></li></ul><p>Another important feature provided by *commands* package is <a href="../messages/commands/matchers/Matcher.html" class="extype" name="csw.messages.commands.matchers.Matcher">csw.messages.commands.matchers.Matcher</a>
One of the use case for using matcher is when Assembly sends <a href="../messages/CommandMessage$$Oneway.html" class="extype" name="csw.messages.CommandMessage.Oneway">csw.messages.CommandMessage.Oneway</a> command to HCD
and in response to this command HCD keeps publishing its current state.
Then Assembly can use Matcher with the matching definition as provided by <a href="../messages/commands/matchers/StateMatcher.html" class="extype" name="csw.messages.commands.matchers.StateMatcher">csw.messages.commands.matchers.StateMatcher</a> to
match against the current states published by HCD.</p><h5> Location and Framework </h5><p>These packages contain reusable classes, traits and models. We are keeping all the models which are getting transferred over the wire and
requires serialization and deserialization in <code>csw-messages</code> project. All the models are marked with <a href="../messages/TMTSerializable.html" class="extype" name="csw.messages.TMTSerializable">csw.messages.TMTSerializable</a>.
<a href="../messages/TMTSerializable.html" class="extype" name="csw.messages.TMTSerializable">csw.messages.TMTSerializable</a> is a marker trait which extends <a href="http://scala-lang.org/files/archive/api/2.12.6/scala/Serializable.html" class="extype" name="scala.Serializable">scala.Serializable</a>. This is configured to use <code>kryo</code> serialization.
Also these models are being shared between multiple projects. <code>csw-location</code>, <code>csw-framework</code> and <code>csw-logging</code> depends on <code>csw-messages</code> project
which uses these models.</p><p>Location Service uses <a href="../messages/location/Connection.html" class="extype" name="csw.messages.location.Connection">csw.messages.location.Connection</a> model to register component/container of type:</p><ul><li><a href="../messages/location/ComponentType$$Assembly$.html" class="extype" name="csw.messages.location.ComponentType.Assembly">csw.messages.location.ComponentType.Assembly</a></li><li><a href="../messages/location/ComponentType$$HCD$.html" class="extype" name="csw.messages.location.ComponentType.HCD">csw.messages.location.ComponentType.HCD</a></li><li><a href="../messages/location/ComponentType$$Service$.html" class="extype" name="csw.messages.location.ComponentType.Service">csw.messages.location.ComponentType.Service</a></li><li><a href="../messages/location/ComponentType$$Container$.html" class="extype" name="csw.messages.location.ComponentType.Container">csw.messages.location.ComponentType.Container</a></li></ul><p>When you resolve/find a <a href="../messages/location/Connection.html" class="extype" name="csw.messages.location.Connection">csw.messages.location.Connection</a>, you get <a href="../messages/location/Location.html" class="extype" name="csw.messages.location.Location">csw.messages.location.Location</a> in return which can be one of below type:</p><ul><li><a href="../messages/location/AkkaLocation.html" class="extype" name="csw.messages.location.AkkaLocation">csw.messages.location.AkkaLocation</a></li><li><a href="../messages/location/TcpLocation.html" class="extype" name="csw.messages.location.TcpLocation">csw.messages.location.TcpLocation</a></li><li><a href="../messages/location/HttpLocation.html" class="extype" name="csw.messages.location.HttpLocation">csw.messages.location.HttpLocation</a></li></ul><p>Framework package contains following actor messages:</p><ul><li>Messages of type <a href="../messages/framework/PubSub.html" class="extype" name="csw.messages.framework.PubSub">csw.messages.framework.PubSub</a> are supported by PubSubActor</li><li>Below Lifecycle messages can be sent to component when component is in <a href="../messages/framework/SupervisorLifecycleState$$Running$.html" class="extype" name="csw.messages.framework.SupervisorLifecycleState.Running">csw.messages.framework.SupervisorLifecycleState.Running</a> state,
 note that these messages should be wrapped inside <a href="../messages/RunningMessage$$Lifecycle.html" class="extype" name="csw.messages.RunningMessage.Lifecycle">csw.messages.RunningMessage.Lifecycle</a> before sending it to Supervisor actor.<ul><li><a href="../messages/framework/ToComponentLifecycleMessages$$GoOnline$.html" class="extype" name="csw.messages.framework.ToComponentLifecycleMessages.GoOnline">csw.messages.framework.ToComponentLifecycleMessages.GoOnline</a></li><li><a href="../messages/framework/ToComponentLifecycleMessages$$GoOffline$.html" class="extype" name="csw.messages.framework.ToComponentLifecycleMessages.GoOffline">csw.messages.framework.ToComponentLifecycleMessages.GoOffline</a></li></ul></li></ul><h5> Params </h5><p>This package supports serialization and deserialization of commands, events and state variables in following formats:</p><ul><li>JSON : <a href="../messages/params/formats/JsonSupport.html" class="extype" name="csw.messages.params.formats.JsonSupport">csw.messages.params.formats.JsonSupport</a></li><li>Kryo : <span class="extype" name="csw.messages.params.generics.ParamSetSerializer">csw.messages.params.generics.ParamSetSerializer</span></li><li>Protobuf : package pb contains utility and directory protobuf contains proto schema files.</li></ul><h5> Scala and Java APIs </h5><p>All the param and event classes are immutable. The <code>set</code> methods return a new instance of the object with a
new item added and the <code>get</code> methods return an Option, in case the Key is not found. There are also <code>value</code> methods
that return a value directly, throwing an exception if the key or value is not found.</p><h5> Key Types </h5><p>A set of standard key types and matching items are defined. Each key accepts one or more values
of the given type.</p><p>Following <a href="../messages/params/generics/KeyType.html" class="extype" name="csw.messages.params.generics.KeyType">csw.messages.params.generics.KeyType</a> are supported by csw:</p><pre>+--------------+-------------------------+---------------------------+
|  Primitive   |      Scala KeyType      |       Java KeyType        |
+--------------+-------------------------+---------------------------+
| <span class="std">Boolean</span>      | KeyType.BooleanKey      | JKeyTypes.BooleanKey      |
| Character    | KeyType.CharKey         | JKeyTypes.JCharKey        |
| <span class="std">Byte</span>         | KeyType.ByteKey         | JKeyTypes.ByteKey         |
| <span class="std">Short</span>        | KeyType.ShortKey        | JKeyTypes.ShortKey        |
| <span class="std">Long</span>         | KeyType.LongKey         | JKeyTypes.LongKey         |
| <span class="std">Int</span>          | KeyType.IntKey          | JKeyTypes.IntKey          |
| <span class="std">Float</span>        | KeyType.FloatKey        | JKeyTypes.FloatKey        |
| <span class="std">Double</span>       | KeyType.DoubleKey       | JKeyTypes.DoubleKey       |
| <span class="std">String</span>       | KeyType.StringKey       | JKeyTypes.StringKey       |
| Timestamp    | KeyType.TimestampKey    | JKeyTypes.TimestampKey    |
| ----------   | ----------              | ----------                |
| ByteArray    | KeyType.ByteArrayKey    | JKeyTypes.ByteArrayKey    |
| ShortArray   | KeyType.ShortArrayKey   | JKeyTypes.ShortArrayKey   |
| LongArray    | KeyType.LongArrayKey    | JKeyTypes.LongArrayKey    |
| IntArray     | KeyType.IntArrayKey     | JKeyTypes.IntArrayKey     |
| FloatArray   | KeyType.FloatArrayKey   | JKeyTypes.FloatArrayKey   |
| DoubleArray  | KeyType.DoubleArrayKey  | JKeyTypes.DoubleArrayKey  |
| ----------   | ----------              | ----------                |
| ByteMatrix   | KeyType.ByteMatrixKey   | JKeyTypes.ByteMatrixKey   |
| ShortMatrix  | KeyType.ShortMatrixKey  | JKeyTypes.ShortMatrixKey  |
| LongMatrix   | KeyType.LongMatrixKey   | JKeyTypes.LongMatrixKey   |
| IntMatrix    | KeyType.IntMatrixKey    | JKeyTypes.IntMatrixKey    |
| FloatMatrix  | KeyType.FloatMatrixKey  | JKeyTypes.FloatMatrixKey  |
| DoubleMatrix | KeyType.DoubleMatrixKey | JKeyTypes.DoubleMatrixKey |
| ----------   | ----------              | ----------                |
| Choice       | KeyType.ChoiceKey       | JKeyTypes.ChoiceKey       |
| RaDec        | KeyType.RaDecKey        | JKeyTypes.RaDecKey        |
| Struct       | KeyType.StructKey       | JKeyTypes.StructKey       |
+--------------+-------------------------+---------------------------+</pre><p>Detailed information about creating Keys and Parameters can be found here:
 https://tmtsoftware.github.io/csw-prod/services/messages/keys-parameters.html</p><p>Detailed information about creating commands can be found here:
 https://tmtsoftware.github.io/csw-prod/services/messages/commands.html</p><p>Detailed information about creating events can be found here:
 https://tmtsoftware.github.io/csw-prod/services/messages/events.html
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="csw">csw</a></dd></dl></div>
    </li><li name="csw.services" visbl="pub" class="indented2 current" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="services"></a><a id="services:services"></a>
      <span class="permalink">
      <a href="../csw/index.html#services" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">services</span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="csw">csw</a></dd></dl></div>
    </li><li name="csw.services.alarm" visbl="pub" class="indented3 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="alarm"></a><a id="alarm:alarm"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#alarm" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="alarm/index.html"><span class="name">alarm</span></a>
      </span>
      
      
    </li><li name="csw.services.command" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="command"></a><a id="command:command"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#command" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="This project defines the basic classes and traits for the Command Service." href="command/index.html"><span class="name">command</span></a>
      </span>
      
      <p class="shortcomment cmt">This project defines the basic classes and traits for the <i>Command Service</i>.</p><div class="fullcomment"><div class="comment cmt"><h4> Command Service </h4><p>This project defines the basic classes and traits for the <i>Command Service</i>.</p><p>Related projects are:
- <b>csw-messages</b>:</p><ul><li>This defines the types of command (Oneway/Submit etc.) and types of <i>configurations</i> (Setup/Observe/Wait etc.)</li><li>Complete usage of Messages is available at: https://tmtsoftware.github.io/csw-prod/services/messages.html</li></ul><p>- <b>framework</b>:</p><ul><li>This defines the Hcd and Assembly handlers, lifecycle manager and supervisor for components.</li><li>Framework allows component writer to override onValidation, onSubmit and onOneway handlers. (Note it allows overriding other handlers as well.)</li><li>On every command received by component, onValidation handler gets invoked where received command gets validated and validation response is returned.</li><li>Based on validation response and command type, onSubmit/onOneway hooks gets invoked where command gets processed.</li><li>Complete details of handling commands can be found here : https://tmtsoftware.github.io/csw-prod/framework/handling-lifecycle.html#handling-commands</li></ul><p>Important classes in this project are:</p><p>- <a href="command/CommandResponseManager.html" class="extype" name="csw.services.command.CommandResponseManager">csw.services.command.CommandResponseManager</a></p><p>This class wraps CommandResponseManagerActor and provides helpers to interact with actor which is responsible for adding/updating/querying command result.
Component writers will get handle to CommandResponseManager in their handlers.</p><p>- <span class="extype" name="csw.services.command.internal.CommandResponseManagerBehavior">csw.services.command.internal.CommandResponseManagerBehavior</span> maintains two states:</p><ul><li><span class="extype" name="csw.messages.commands.CommandResponseManagerState">csw.messages.commands.CommandResponseManagerState</span>:
     It maintains <a href="../messages/params/models/Id.html" class="extype" name="csw.messages.params.models.Id">csw.messages.params.models.Id</a> of Commands and their corresponding <span class="extype" name="csw.messages.commands.CommandState">csw.messages.commands.CommandState</span>.</li><li><span class="extype" name="csw.messages.commands.CommandCorrelation">csw.messages.commands.CommandCorrelation</span> :
     It maintains commands <a href="../messages/params/models/Id.html" class="extype" name="csw.messages.params.models.Id">csw.messages.params.models.Id</a> correlation between parent to child and child to parent.</li></ul><p>- <a href="command/scaladsl/CommandService.html" class="extype" name="csw.services.command.scaladsl.CommandService">csw.services.command.scaladsl.CommandService</a></p><p>This class wraps the <a href="../messages/location/AkkaLocation.html" class="extype" name="csw.messages.location.AkkaLocation">csw.messages.location.AkkaLocation</a> and provides helpers to send commands to component actor extracted from provided location.
Normal component writers workflow would be to first resolve component using location service and then create CommandService instance using resolved location.</p><p>Using this instance, you can Submit Command/Commands to other component or query for command result or subscribe for long running command result.</p><p>- <a href="command/scaladsl/CommandDistributor.html" class="extype" name="csw.services.command.scaladsl.CommandDistributor">csw.services.command.scaladsl.CommandDistributor</a></p><p>When you have multiple commands targeted to multiple components then you can use ConfigDistributor.
Using CommandDistributor utility you can send all these commands in one go and get aggregated response.</p><p>Complete guide of usage of different API's provided by CommandService is available at:
https://tmtsoftware.github.io/csw-prod/command.html</p></div></div>
    </li><li name="csw.services.config" visbl="pub" class="indented3 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="config"></a><a id="config:config"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#config" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="config/index.html"><span class="name">config</span></a>
      </span>
      
      
    </li><li name="csw.services.event" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="event"></a><a id="event:event"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#event" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="This module implements an Event Service responsible for publishing an csw.messages.events.Event or subscribing to an csw.messages.events.Event." href="event/index.html"><span class="name">event</span></a>
      </span>
      
      <p class="shortcomment cmt">This module implements an Event Service responsible for publishing an <a href="../messages/events/Event.html" class="extype" name="csw.messages.events.Event">csw.messages.events.Event</a> or subscribing to an <a href="../messages/events/Event.html" class="extype" name="csw.messages.events.Event">csw.messages.events.Event</a>.</p><div class="fullcomment"><div class="comment cmt"><h4> Event Service </h4><p>This module implements an Event Service responsible for publishing an <a href="../messages/events/Event.html" class="extype" name="csw.messages.events.Event">csw.messages.events.Event</a> or subscribing to an <a href="../messages/events/Event.html" class="extype" name="csw.messages.events.Event">csw.messages.events.Event</a>.
An event is published on a <a href="../messages/events/EventKey.html" class="extype" name="csw.messages.events.EventKey">csw.messages.events.EventKey</a>. The event key is composed of a <a href="../messages/params/models/Prefix.html" class="extype" name="csw.messages.params.models.Prefix">csw.messages.params.models.Prefix</a> depicting the source and an <a href="../messages/events/EventName.html" class="extype" name="csw.messages.events.EventName">csw.messages.events.EventName</a>.
The subscriber can subscribe to the <a href="../messages/events/EventKey.html" class="extype" name="csw.messages.events.EventKey">csw.messages.events.EventKey</a> to receive all events published on the Key.</p><h5> Example: Event Service </h5><pre><span class="kw">val</span> eventServiceFactory          = <span class="kw">new</span> EventServiceFactory()
<span class="kw">val</span> eventService: EventService   = eventServiceFactory.make(locationService)</pre><p>Using above code, you can create instance of <a href="event/api/scaladsl/EventService.html" class="extype" name="csw.services.event.api.scaladsl.EventService">csw.services.event.api.scaladsl.EventService</a>. EventService is the factory to create publishers and subscribers.</p><p>You can choose to use defaultPublisher in case you want to share same connection for publishing different events.</p><h5> Example: Event Publisher </h5><p>Event Publisher provides asynchronous APIs to publish one or more Events</p><pre><span class="kw">val</span> event = SystemEvent(prefix, EventName(<span class="lit">"filter_wheel"</span>))

async {
  <span class="kw">val</span> publisher    = await(eventService.defaultPublisher)
  publisher.publish(event)
}</pre><h5> Example: Event Subscriber (subscribe and get API) </h5><p>Event Subscriber provides asynchronous APIs to subscribe to one or more Event Keys.
It also provides APIs to subscribe using a pattern.
In addition, there are APIs to <code>get</code> latest events for one ore more Event Keys without making a subscription</p><p>The EventSubscriber provides various API's to subscribe to <a href="../messages/events/EventKey.html" class="extype" name="csw.messages.events.EventKey">csw.messages.events.EventKey</a>.
One of such a subscribe method takes an ActorRef of an arbitrary actor or a callback function to be called
when an event matching the given <a href="../messages/events/EventKey.html" class="extype" name="csw.messages.events.EventKey">csw.messages.events.EventKey</a> is received. In the example below, we only provide the callback
argument value. You could also provide an ActorRef of some actor that should receive the Event message.</p><pre> <span class="kw">def</span> callback(ev: Event): <span class="std">Unit</span> = {
   <span class="cmt">// ...</span>
 }

 async {
   <span class="kw">val</span> subscriber    = await(eventService.defaultSubscriber)
   subscriber.subscribeCallback(<span class="std">Set</span>(EventKey(prefix, EventName(<span class="lit">"filter_wheel"</span>))), callback)

   <span class="kw">val</span> event = await(subscriber.get(event.eventKey))

   event <span class="kw">match</span> {
     <span class="kw">case</span> e: ObserveEvent <span class="kw">=&gt;</span> assert(e.prefix == expectedPrefix)
     <span class="kw">case</span> _               <span class="kw">=&gt;</span> fail(<span class="lit">"Expected ObserveEvent"</span>)
   }
}</pre><p><code>csw-prod</code> provides two implementations for Event Service which can be accessed through <code>csw-event-client</code> :
1. <a href="event/internal/redis/RedisEventService.html" class="extype" name="csw.services.event.internal.redis.RedisEventService">csw.services.event.internal.redis.RedisEventService</a> - Redis as event store and publisher/subscriber functionality
2. <a href="event/internal/kafka/KafkaEventService.html" class="extype" name="csw.services.event.internal.kafka.KafkaEventService">csw.services.event.internal.kafka.KafkaEventService</a> - Kafka as event store and publisher/subscriber functionality</p><p>Complete guide of usage of different API's provided by EventService is available at:
https://tmtsoftware.github.io/csw-prod/services/event.html</p></div></div>
    </li><li name="csw.services.location" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="location"></a><a id="location:location"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#location" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="The Location Service implemented in this project is based on CRDT (Conflict Free Replicated Data)." href="location/index.html"><span class="name">location</span></a>
      </span>
      
      <p class="shortcomment cmt">The Location Service implemented in this project is based on CRDT (Conflict Free Replicated Data).</p><div class="fullcomment"><div class="comment cmt"><h4> Location Service </h4><p>The Location Service implemented in this project is based on CRDT (Conflict Free Replicated Data).
The Location Service helps you resolve the hostname and port number for a service which can be used for further communication.
In case of Akka connection, It helps you to resolve component reference with which you can send messages
as well as other information for example, logAdminActorRef which is used to dynamically change the log level of component.</p><p>Location Service supports three types of services as follows: Akka, Tcp and HTTP based services.</p><p>Before calling LocationServiceFactory.make() to get an handle of LocationService,
it is recommended to have below environment variables set to System global environments or system properties:</p><ul><li>interfaceName (The network interface where akka cluster is formed.) Ex. interfaceName=eth0 if not set, first inet4 interface by priority will be picked</li><li>clusterSeeds (The host address and port of the seedNodes of the cluster) Ex. clusterSeeds=&quot;192.168.121.10:3552, 192.168.121.11:3552&quot;</li><li>clusterPort (Specify port on which to start this service) Ex. clusterPort=3552 if this property is not set, service will start on random port.</li></ul><p>Location service make use of classes defined in <code>csw-messages</code> package, for example:
- <a href="../messages/location/Location.html" class="extype" name="csw.messages.location.Location">csw.messages.location.Location</a> :
 When you resolve component location using <a href="location/scaladsl/LocationService.html" class="extype" name="csw.services.location.scaladsl.LocationService">csw.services.location.scaladsl.LocationService</a>, you get back this location.
 There are three types of Locations:</p><ul><li><a href="../messages/location/AkkaLocation.html" class="extype" name="csw.messages.location.AkkaLocation">csw.messages.location.AkkaLocation</a>: holds hostname, port and actorRef which is ready to receive <a href="../messages/commands/Command.html" class="extype" name="csw.messages.commands.Command">csw.messages.commands.Command</a> from outside.</li><li><a href="../messages/location/TcpLocation.html" class="extype" name="csw.messages.location.TcpLocation">csw.messages.location.TcpLocation</a>: holds hostname and port which can be used for further communication.</li><li><a href="../messages/location/HttpLocation.html" class="extype" name="csw.messages.location.HttpLocation">csw.messages.location.HttpLocation</a>: holds hostname and port which can be used for further communication.</li></ul><p>- <a href="../messages/location/Connection.html" class="extype" name="csw.messages.location.Connection">csw.messages.location.Connection</a>  :
 Connection holds the identity of component which includes <code>component name</code> and <a href="../messages/location/ComponentType.html" class="extype" name="csw.messages.location.ComponentType">csw.messages.location.ComponentType</a>.
 Every component needs to register with location service using unique connection.
 There are three types of Connections:</p><ul><li><a href="../messages/location/Connection$$AkkaConnection.html" class="extype" name="csw.messages.location.Connection.AkkaConnection">csw.messages.location.Connection.AkkaConnection</a></li><li><a href="../messages/location/Connection$$TcpConnection.html" class="extype" name="csw.messages.location.Connection.TcpConnection">csw.messages.location.Connection.TcpConnection</a></li><li><a href="../messages/location/Connection$$HttpConnection.html" class="extype" name="csw.messages.location.Connection.HttpConnection">csw.messages.location.Connection.HttpConnection</a></li></ul><p>Another important actor from LocationService is <code>DeathwatchActor</code> <span class="extype" name="csw.services.location.internal.DeathwatchActor">csw.services.location.internal.DeathwatchActor</span>
which gets created with LocationService initialization. Job of this actor is to watch health of every component and on termination,
unregister terminated component from LocationService.</p><p>Complete guide of usage of different API's provided by LocationService is available at:
https://tmtsoftware.github.io/csw-prod/services/location.html
</p></div></div>
    </li><li name="csw.services.logging" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="logging"></a><a id="logging:logging"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#logging" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="This is a Actor based logging library which supports writing logs to File and StdOut Console." href="logging/index.html"><span class="name">logging</span></a>
      </span>
      
      <p class="shortcomment cmt">This is a Actor based logging library which supports writing logs to File and StdOut Console.</p><div class="fullcomment"><div class="comment cmt"><h4> Logging Service </h4><p>This is a Actor based logging library which supports writing logs to File and StdOut Console.</p><h5> Features </h5><ul><li>Supports component specific log levels, ex. HCD1 can choose to log at <code>info</code> level and HCD2 can choose to log at <code>debug</code> level</li><li>Supports dynamically changing component log levels</li><li>Asynchronous thread safe logging</li><li>Structured logging</li><li>Supports overriding default logging properties per component viz</li><li>Intercepting logs from akka/slf4j</li><li>Supports JSON logging</li></ul><h5> LogActor </h5><p><code>LogActor</code> is the heart of logging library. It receives messages from following classes:</p><ul><li>Slf4jAppender: Intercepts Slf4j logs and forwards it to LogActor via MessageHandler</li><li>AkkaLogger: Intercepts Akka logs and forwards it to LogActor via MessageHandler.</li><li>LoggerImpl: Provides csw logging API for component writer to log messages which gets forwarded to LogActor via MessageHandler</li></ul><h5> Logging Appenders </h5><p>This library supports two types of <a href="logging/appenders/LogAppender.html" class="extype" name="csw.services.logging.appenders.LogAppender">csw.services.logging.appenders.LogAppender</a>:</p><ul><li><a href="logging/appenders/FileAppender.html" class="extype" name="csw.services.logging.appenders.FileAppender">csw.services.logging.appenders.FileAppender</a>:
  Common log messages are written in Pretty Json form.
  This appender is useful during development. It is recommended to disable it in production.</li><li><a href="logging/appenders/StdOutAppender.html" class="extype" name="csw.services.logging.appenders.StdOutAppender">csw.services.logging.appenders.StdOutAppender</a>:
 Log messages are written as Json, one per line.
 Ordinary log messages are written to the common log files. Each log file includes a day as part of its name. Each day a new file is created.</li></ul><p>You can specify the appender in application.conf file as shown below:</p><pre>csw-logging {
   appenders = [<span class="lit">"csw.services.logging.appenders.StdOutAppender$"</span>, <span class="lit">"csw.services.logging.appenders.FileAppender$"</span>]
 }</pre><h5> Component Specific Log Levels </h5><p>For each component, <code>ComponentLoggingState</code> instance gets created which maintains log levels
which are enabled and disabled for this particular component.
Every time message gets logged by component, LoggerImpl checks in corresponding componentLoggingState whether current log level enabled or not.
If enabled, then only log message gets forwarded to LogActor via MessageHandler.</p><p>You can specify the component specific log levels in application.conf file as shown below:</p><pre>component-log-levels {
   tromboneHcd = debug
   tromboneAssembly = error
}</pre><p>̄
Detailed documentation of Logging Service is available at:
https://tmtsoftware.github.io/csw-prod/services/logging.html
</p></div></div>
    </li><li class="current-entities indented2">
                        <span class="separator"></span>
                        <a class="object" href="BuildInfo$.html" title="This object was generated by sbt-buildinfo."></a>
                        <a href="BuildInfo$.html" title="This object was generated by sbt-buildinfo.">BuildInfo</a>
                      </li>
              </ul>
            </div>
          </div>
          <div id="content">
            <body class="package value">
      <div id="definition">
        <div class="big-circle package">p</div>
        <p id="owner"><a href="../index.html" class="extype" name="csw">csw</a></p>
        <h1>services<span class="permalink">
      <a href="../../csw/services/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span></h1>
        
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">services</span>
      </span>
      </h4>

      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div class="toggle"></div>
        <div id="memberfilter">
          <i class="material-icons arrow"></i>
          <span class="input">
            <input id="mbrsel-input" placeholder="Filter all members" type="text" accesskey="/" />
          </span>
          <i class="clear material-icons"></i>
        </div>
        <div id="filterby">
          <div id="order">
            <span class="filtertype">Ordering</span>
            <ol>
              
              <li class="alpha in"><span>Alphabetic</span></li>
              
            </ol>
          </div>
          
          <div id="visbl">
              <span class="filtertype">Visibility</span>
              <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
            </div>
        </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        

        

        <div class="values members">
              <h3>Value Members</h3>
              <ol>
                <li name="csw.services.BuildInfo" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="BuildInfo"></a><a id="BuildInfo:BuildInfo"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#BuildInfo" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="This object was generated by sbt-buildinfo." href="BuildInfo$.html"><span class="name">BuildInfo</span></a><span class="result"> extends <a href="http://scala-lang.org/files/archive/api/2.12.6/scala/Product.html#scala.Product" class="extype" name="scala.Product">Product</a> with <a href="http://scala-lang.org/files/archive/api/2.12.6/scala/Serializable.html#scala.Serializable" class="extype" name="scala.Serializable">Serializable</a></span>
      </span>
      
      <p class="shortcomment cmt">This object was generated by sbt-buildinfo.</p>
    </li>
              </ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>
    </body>
          </div>
        </div>
      </div>
    </body>
      </html>
