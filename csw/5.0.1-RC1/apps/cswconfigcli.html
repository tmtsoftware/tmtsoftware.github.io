<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.7.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../assets/tmt_favicon.ico">
<title>csw-config-cli Â· TMT Common Software (CSW)</title>
<link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../assets/custom.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="TMT Common Software (CSW)" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
TMT Common Software (CSW)
</span>
<span class="md-header-nav__topic">
csw-config-cli
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/tmtsoftware/csw"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tmtsoftware/csw
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../index.html" title="TMT Common Software (CSW)" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
<a href="../index.html" title="TMT Common Software (CSW)">
TMT Common Software (CSW)
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/tmtsoftware/csw"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tmtsoftware/csw
</div>
</a>

</div>
<ul>
  <li><a href="../commons/getting-started.html" class="page">Getting Started</a></li>
  <li><a href="../commons/create-component.html" class="page">Creating a Component</a></li>
  <li><a href="../commons/multiple-components.html" class="page">Multiple Components</a></li>
  <li><a href="../commons/using-alarms.html" class="page">Using Alarms</a></li>
  <li><a href="../commons/unit-tests.html" class="page">Adding Unit Tests</a></li>
  <li><a href="../commons/params.html" class="page">Params</a>
  <ul>
    <li><a href="../params/keys-parameters.html" class="page">Keys and Parameters</a></li>
    <li><a href="../params/units.html" class="page">Units</a></li>
    <li><a href="../params/subsystem.html" class="page">Subsystem</a></li>
    <li><a href="../params/commands.html" class="page">Commands</a></li>
    <li><a href="../params/events.html" class="page">Events</a></li>
    <li><a href="../params/states.html" class="page">State Variables</a></li>
    <li><a href="../params/result.html" class="page">Result</a></li>
  </ul></li>
  <li><a href="../commons/framework.html" class="page">Framework for creating components (HCD, Assembly, Container)</a>
  <ul>
    <li><a href="../framework/describing-components.html" class="page">ComponentInfo</a></li>
    <li><a href="../framework/creating-components.html" class="page">Creating an Assembly or Hcd Component</a></li>
    <li><a href="../framework/handling-lifecycle.html" class="page">Component Handlers</a></li>
    <li><a href="../framework/managing-command-state.html" class="page">Managing Command State</a></li>
    <li><a href="../framework/tracking-connections.html" class="page">Tracking Connections</a></li>
    <li><a href="../framework/publishing-state.html" class="page">Publishing State</a></li>
    <li><a href="../framework/handling-exceptions.html" class="page">Handling Exceptions</a></li>
    <li><a href="../framework/deploying-components.html" class="page">Deploying Components</a></li>
  </ul></li>
  <li><a href="../commons/command.html" class="page">Communication using Commands</a></li>
  <li><a href="../commons/logging_aggregator.html" class="page">Logging Aggregator</a></li>
  <li><a href="../commons/services.html" class="page">Services</a>
  <ul>
    <li><a href="../services/location.html" class="page">Location Service</a></li>
    <li><a href="../services/config.html" class="page">Configuration Service</a></li>
    <li><a href="../services/logging.html" class="page">Logging Service</a></li>
    <li><a href="../services/event.html" class="page">Event Service</a></li>
    <li><a href="../services/alarm.html" class="page">Alarm Service</a></li>
    <li><a href="../services/time.html" class="page">Time Service</a></li>
    <li><a href="../services/database.html" class="page">Database Service</a></li>
    <li><a href="../services/aas.html" class="page">Authentication and Authorization Service (AAS)</a></li>
    <li><a href="../services/sequencer-command-service.html" class="page">Sequencer Command Service</a></li>
  </ul></li>
  <li><a href="../commons/apps.html" class="page">Applications</a>
  <ul>
    <li><a href="../apps/csinstallation.html" class="page">Coursier Installation</a></li>
    <li><a href="../apps/cswservices.html" class="page">csw-services</a></li>
    <li><a href="../apps/cswlocationserver.html" class="page">csw-location-server</a></li>
    <li><a href="../apps/cswlocationagent.html" class="page">csw-location-agent</a></li>
    <li><a href="../apps/cswonfigserverapp.html" class="page">csw-config-server</a></li>
    <li><a href="../apps/cswconfigcli.html" class="active page">csw-config-cli</a></li>
    <li><a href="../apps/csweventcli.html" class="page">csw-event-cli</a></li>
    <li><a href="../apps/cswalarmcli.html" class="page">csw-alarm-cli</a></li>
    <li><a href="../apps/hostconfig.html" class="page">csw-host-config</a></li>
  </ul></li>
  <li><a href="../commons/deployment.html" class="page">Deployment</a>
  <ul>
    <li><a href="../deployment/env-vars.html" class="page">Environment variables</a></li>
    <li><a href="../deployment/network-topology.html" class="page">Network Topology</a></li>
  </ul></li>
  <li><a href="../commons/testing.html" class="page">Testing</a></li>
  <li><a href="../commons/sbt-tasks.html" class="page">sbt Tasks</a></li>
  <li><a href="../commons/manuals.html" class="page">Manuals</a></li>
  <li><a href="../migration_guide/migration-guides.html" class="page">Migration Guides</a>
  <ul>
    <li><a href="../migration_guide/migration_guide_1.0.0_to_2.0.0/migration-guide-1.0.0-to-2.0.0.html" class="page">Migration Guide from 1.0.0 to 2.0.0</a></li>
    <li><a href="../migration_guide/migration_guide_2.0_to_3.0/migration-guide-2.0-to-3.0.html" class="page">Migration Guide from 2.0 to 3.0</a></li>
    <li><a href="../migration_guide/migration_guide_3.0.0_to_4.0.0/migration-guide-3.0.0-to-4.0.0.html" class="page">Migration Guide from 3.0.0 to 4.0.0</a></li>
    <li><a href="../migration_guide/migration_guide_4.0.0_to_5.0.0/migration-guide-4.0.0-to-5.0.0.html" class="page">Migration Guide from 4.0.0 to 5.0.0</a></li>
  </ul></li>
  <li><a href="../commons/contract.html" class="page">CSW Service contract</a></li>
  <li><a href="../technical/technical.html" class="page">Technical Design Documents</a>
  <ul>
    <li><a href="../technical/framework/framework.html" class="page">Framework</a></li>
    <li><a href="../technical/command/command.html" class="page">Command</a></li>
    <li><a href="../technical/params/params.html" class="page">Params</a></li>
    <li><a href="../technical/units/adding-unit.html" class="page">Adding a new unit</a></li>
    <li><a href="../technical/location/location.html" class="page">Location Service</a></li>
    <li><a href="../technical/configuration/configuration.html" class="page">Configuration Service</a></li>
    <li><a href="../technical/logging/logging.html" class="page">Logging Service</a></li>
    <li><a href="../technical/event/event.html" class="page">Event Service</a></li>
    <li><a href="../technical/alarm/alarm.html" class="page">Alarm Service</a></li>
    <li><a href="../technical/time/time.html" class="page">Time Service</a></li>
    <li><a href="../technical/database/database.html" class="page">Database Service</a></li>
    <li><a href="../technical/aas/aas.html" class="page">Authentication and Authorization Service</a></li>
  </ul></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../apps/cswconfigcli.html#csw-config-cli" class="header">csw-config-cli</a>
  <ul>
    <li><a href="../apps/cswconfigcli.html#prerequisite" class="header">Prerequisite</a></li>
    <li><a href="../apps/cswconfigcli.html#install-csw-config-cli-app" class="header">Install csw-config-cli app</a></li>
    <li><a href="../apps/cswconfigcli.html#supported-commands" class="header">Supported Commands</a></li>
    <li><a href="../apps/cswconfigcli.html#login" class="header">login</a></li>
    <li><a href="../apps/cswconfigcli.html#logout" class="header">logout</a></li>
    <li><a href="../apps/cswconfigcli.html#admin-api" class="header">Admin API</a></li>
    <li><a href="../apps/cswconfigcli.html#client-api" class="header">Client API</a></li>
    <li><a href="../apps/cswconfigcli.html#about-this-application" class="header">About this application</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 5.0.1-RC1
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../apps/cswconfigcli.html#csw-config-cli" class="header">csw-config-cli</a>
  <ul>
    <li><a href="../apps/cswconfigcli.html#prerequisite" class="header">Prerequisite</a></li>
    <li><a href="../apps/cswconfigcli.html#install-csw-config-cli-app" class="header">Install csw-config-cli app</a></li>
    <li><a href="../apps/cswconfigcli.html#supported-commands" class="header">Supported Commands</a></li>
    <li><a href="../apps/cswconfigcli.html#login" class="header">login</a></li>
    <li><a href="../apps/cswconfigcli.html#logout" class="header">logout</a></li>
    <li><a href="../apps/cswconfigcli.html#admin-api" class="header">Admin API</a></li>
    <li><a href="../apps/cswconfigcli.html#client-api" class="header">Client API</a></li>
    <li><a href="../apps/cswconfigcli.html#about-this-application" class="header">About this application</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#csw-config-cli" name="csw-config-cli" class="anchor"><span class="anchor-link"></span></a>csw-config-cli</h1>
<p>A command line application that facilitates interaction with the Configuration Service. It accepts various commands to store, retrieve, list and manage configuration files.</p>
<h2><a href="#prerequisite" name="prerequisite" class="anchor"><span class="anchor-link"></span></a>Prerequisite</h2>
<ul>
  <li>Location Service should be running</li>
  <li>Config Service should be running</li>
</ul><div class="callout note "><div class="callout-title">Note</div>
<p>This page assumes that you have already installed and setup <a href="csinstallation.html">coursier</a></p></div>
<h2><a href="#install-csw-config-cli-app" name="install-csw-config-cli-app" class="anchor"><span class="anchor-link"></span></a>Install csw-config-cli app</h2>
<p>Following command creates an executable file named csw-config-cli in the default installation directory.</p>
<pre class="prettyprint"><code class="language-bash">cs install csw-config-cli
</code></pre>
<p>Note: If you don&rsquo;t provide the version or SHA in above command, <code>csw-event-cli</code> will be installed with the latest tagged binary of <code>csw-event-cli</code></p>
<h2><a href="#supported-commands" name="supported-commands" class="anchor"><span class="anchor-link"></span></a>Supported Commands</h2>
<ul>
  <li>login</li>
  <li>logout</li>
  <li>create</li>
  <li>update</li>
  <li>get</li>
  <li>delete</li>
  <li>list</li>
  <li>history</li>
  <li>setActiveVersion</li>
  <li>resetActiveVersion</li>
  <li>getActiveVersion</li>
  <li>getActiveByTime</li>
  <li>getMetadata</li>
  <li>exists</li>
  <li>getActive</li>
</ul>
<h2><a href="#login" name="login" class="anchor"><span class="anchor-link"></span></a>login</h2>
<p><code>create, update, delete, setActiveVersion &amp; resetActiveVersion</code> commands are protected behind authorization  and require user to have <code>config-admin</code> role.</p>
<p>For development and testing purposes, AAS comes pre-bundled with the following user accounts for config service:</p>
<ol>
  <li>username: <code>config-admin1</code> password: <code>config-admin1</code> role: <code>config-admin</code></li>
  <li>username: <code>config-user1</code> password: <code>config-user1</code> role: NONE</li>
</ol><div class="callout note "><div class="callout-title">Note</div>
<p>These credentials will not be available in actual production environment.</p></div>
<h3><a href="#examples-of-login-api" name="examples-of-login-api" class="anchor"><span class="anchor-link"></span></a>Examples of login api</h3>
<ol>
  <li>
    <p>The command below opens up default browser on your machine and asks you to provide username and password. Once you provide valid credentials, AAS will respond with an access token, refresh token etc. which get stored on the local filesystem. So next time when you use any of the above admin protected commands, this access token gets retrieved from local filesystem and is implicitly passed in a request sent to the Config Server.</p>
    <pre class="prettyprint"><code class="language-bash">csw-config-cli login
</code></pre>
  </li>
  <li>
    <p>Instead of opening the default browser on your machine, this will prompt for username and password on the console. (You do not need to leave console in this case.)</p>
    <pre class="prettyprint"><code class="language-bash">csw-config-cli login --consoleLogin
</code></pre>
  </li>
</ol>
<h2><a href="#logout" name="logout" class="anchor"><span class="anchor-link"></span></a>logout</h2>
<p>Use this command to logout if you are already logged in or you want to re-login with different credentials.</p>
<h3><a href="#example" name="example" class="anchor"><span class="anchor-link"></span></a>Example</h3>
<p>The command below will delete all the tokens stored in local filesystem.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli logout
</code></pre>
<h2><a href="#admin-api" name="admin-api" class="anchor"><span class="anchor-link"></span></a>Admin API</h2>
<p>The commands listed below will be used by administrators and maintainers of Configuration Service.</p>
<h3><a href="#create" name="create" class="anchor"><span class="anchor-link"></span></a>create</h3>
<p>Takes an input source file and creates the configuration in the repository at a specified path.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>-i</code>, <code>--in</code> is input file path</li>
  <li><code>--annex</code> is optional parameter. Add this option to specify if the input file must be saved to annex store. This is usually the case if file is binary/large(&gt;10 MiB)</li>
  <li><code>-c, --comment</code> optional create comment</li>
</ul>
<h4><a href="#examples-of-create-api" name="examples-of-create-api" class="anchor"><span class="anchor-link"></span></a>Examples of create api</h4>
<ol>
  <li>
  <p>
  <p>Creates a config file at path <code>/path/hcd/trombone.conf</code>, using the local file at <code>/Users/admin/configs/trombone.conf</code>, with <code>Initial version</code> as a comment.</p>
  <pre class="prettyprint"><code class="language-bash">csw-config-cli create /path/hcd/trombone.conf -i /Users/admin/configs/trombone.conf -c &quot;Initial version&quot;
</code></pre></p></li>
  <li>
  <p>Creates a config file at path <code>/path/hcd/trombone.conf</code>, using the local file at <code>/Users/admin/large-configs/bigBinary.conf</code>, file will be stored in annex store.</p>
  <pre class="prettyprint"><code class="language-bash">csw-config-cli create /path/hcd/trombone.conf -i /Users/admin/large-configs/bigBinary.conf --annex
</code></pre></li>
</ol>
<h3><a href="#update" name="update" class="anchor"><span class="anchor-link"></span></a>update</h3>
<p>Overwrites the file specified in the repository by the input file.</p>
<ul>
  <li>&lsquo;path&rsquo; is path in the repository</li>
  <li><code>-i</code>, <code>--in</code> is input file path</li>
  <li><code>-c, --comment</code> optional create comment</li>
</ul>
<h4><a href="#example-of-update-api" name="example-of-update-api" class="anchor"><span class="anchor-link"></span></a>Example of update api</h4>
<p>Updates repository file <code>/path/hcd/trombone.conf</code>, with a local file at <code>/Users/foo/new_trombone.conf</code>, using the specified comment.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli update /path/hcd/trombone.conf -i /Users/foo/new_trombone.conf -c &quot;new conf for next observation&quot;
</code></pre>
<h3><a href="#get" name="get" class="anchor"><span class="anchor-link"></span></a>get</h3>
<p>Retrieves a file for a given path and saves it to the output file. The latest file is fetched if neither date nor id is specified.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository.</li>
  <li><code>-o</code>, <code>--out</code> is output file path</li>
  <li><code>--id</code> optional. if specified this id will be matched</li>
  <li><code>--date</code> optional. if specified will get the file matching this date. Format: 2017-04-16T16:15:23.503Z</li>
</ul>
<h4><a href="#examples-of-get-api" name="examples-of-get-api" class="anchor"><span class="anchor-link"></span></a>Examples of get api</h4>
<ol>
  <li>
    <p>Gets repository file <code>/path/hcd/trombone.conf</code>, stores at the local disk location <code>/Users/bar/temp/latest_trombone.conf</code></p>
    <pre class="prettyprint"><code class="language-bash">csw-config-cli get /path/hcd/trombone.conf -o /Users/bar/temp/latest_trombone.conf
</code></pre>
  </li>
  <li>
    <p>Gets version revision 10 of the repository file <code>/path/hcd/trombone.conf</code>, stores at the local disk location <code>/Users/bar/temp/old_trombone.conf</code></p>
    <pre class="prettyprint"><code class="language-bash">csw-config-cli get /path/hcd/trombone.conf -o /Users/bar/temp/old_trombone.conf --id 10
</code></pre>
  </li>
</ol>
<h3><a href="#delete" name="delete" class="anchor"><span class="anchor-link"></span></a>delete</h3>
<p>Deletes the file at the specified path in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>-c, --comment</code> optional delete comment</li>
</ul>
<h4><a href="#example-of-delete-api" name="example-of-delete-api" class="anchor"><span class="anchor-link"></span></a>Example of delete api</h4>
<p>Deletes the repository file <code>/path/hcd/outdated_trombone.conf</code>, if it exists, using a comment</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli delete /path/hcd/outdated_trombone.conf -c monthly maintainance activity
</code></pre>
<h3><a href="#list" name="list" class="anchor"><span class="anchor-link"></span></a>list</h3>
<p>Lists the files in the repository. Can&rsquo;t use &lsquo;&ndash;annex&rsquo; and &lsquo;&ndash;normal&rsquo; together.</p>
<ul>
  <li><code>--annex</code> optional parameter. List all files that are of annex type.</li>
  <li><code>--normal</code> optional parameter. List all files that are of normal type.</li>
  <li><code>--pattern</code> optional parameter. List all files whose path matches the given pattern. e.g. &ldquo;/path/hcd/*.*&rdquo;, &ldquo;a/b/c/d.*&rdquo;, &ldquo;.*.conf&rdquo;, &ldquo;.*hcd.*&rdquo;</li>
</ul>
<h3><a href="#history" name="history" class="anchor"><span class="anchor-link"></span></a>history</h3>
<p>Shows the version history of the file in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>--max</code> optional parameter, indicating the maximum number of files to be retrieved</li>
</ul>
<h4><a href="#example-of-history-api" name="example-of-history-api" class="anchor"><span class="anchor-link"></span></a>Example of history api</h4>
<p>Prints the history of repository file <code>/path/hcd/trombone.conf</code>, with only 25 entries.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli history /path/hcd/trombone.conf --max 25
</code></pre>
<h3><a href="#setactiveversion" name="setactiveversion" class="anchor"><span class="anchor-link"></span></a>setActiveVersion</h3>
<p>Sets the active version of the file in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>--id</code> optional parameter, specifying the version ID of the repository file to set as active.</li>
  <li><code>-c, --comment</code> optional delete comment</li>
</ul>
<h4><a href="#example-of-setactiveversion-api" name="example-of-setactiveversion-api" class="anchor"><span class="anchor-link"></span></a>Example of setActiveVersion api</h4>
<p>Sets revision 4 to be active for the repository file <code>/path/hcd/trombone.conf</code>, using a comment.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli setActiveVersion /path/hcd/trombone.conf --id 4 -c restoring last successful version.
</code></pre>
<h3><a href="#resetactiveversion" name="resetactiveversion" class="anchor"><span class="anchor-link"></span></a>resetActiveVersion</h3>
<p>Resets the active version to the latest version for the specified file path.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>-c, --comment</code> optional reset comment</li>
</ul>
<h4><a href="#example-of-resetactiveversion-api" name="example-of-resetactiveversion-api" class="anchor"><span class="anchor-link"></span></a>Example of resetActiveVersion api</h4>
<p>Sets latest revision to be active for the repository file <code>/path/hcd/trombone.conf</code>, using a comment.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli resetActiveVersion /path/hcd/trombone.conf -c testing most recent config
</code></pre>
<h3><a href="#getactiveversion" name="getactiveversion" class="anchor"><span class="anchor-link"></span></a>getActiveVersion</h3>
<p>Gets the ID of the active version of the file in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
</ul>
<h4><a href="#example-of-getactiveversion-api" name="example-of-getactiveversion-api" class="anchor"><span class="anchor-link"></span></a>Example of getActiveVersion api</h4>
<p>Gets active version ID for the repository file <code>/path/hcd/trombone.conf</code>.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli getActiveVersion /path/hcd/trombone.conf
</code></pre>
<h3><a href="#getactivebytime" name="getactivebytime" class="anchor"><span class="anchor-link"></span></a>getActiveByTime</h3>
<p>Gets the file that was active at a specified time.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
  <li><code>-o</code>, <code>--out</code> is output file path</li>
  <li><code>--date</code> optional. If specified, will get the active file matching this date. Format: 2017-04-16T16:15:23.503Z</li>
</ul>
<h4><a href="#example-of-getactivebytime-api" name="example-of-getactivebytime-api" class="anchor"><span class="anchor-link"></span></a>Example of getActiveByTime api</h4>
<p>Gets version of teh repository file <code>/path/hcd/trombone.conf</code>, that was active on <code>2017-05-09T07:29:53.242Z</code>, and saves it to local disk.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli getActiveByTime /path/hcd/trombone.conf -o /usr/tmp/last_week_trombone.conf --date 2017-05-09T07:29:53.242Z
</code></pre>
<h3><a href="#getmetadata" name="getmetadata" class="anchor"><span class="anchor-link"></span></a>getMetadata</h3>
<p>Gets the metadata of the Configuration Service server e.g. repository directory, annex directory, min annex file size, max config file size.</p>
<h4><a href="#example-of-getmetadata-api" name="example-of-getmetadata-api" class="anchor"><span class="anchor-link"></span></a>Example of getMetadata api</h4>
<p>Prints the metadata on screen.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli getMetadata
</code></pre>
<h2><a href="#client-api" name="client-api" class="anchor"><span class="anchor-link"></span></a>Client API</h2>
<p>The following commands are available for component developers.</p>
<h3><a href="#exists" name="exists" class="anchor"><span class="anchor-link"></span></a>exists</h3>
<p>Checks if the file exists at specified path in the repository.</p>
<ul>
  <li>&lsquo;relativeRepoPath&rsquo; is path in the repository</li>
</ul>
<h4><a href="#example-of-exists-api" name="example-of-exists-api" class="anchor"><span class="anchor-link"></span></a>Example of exists api</h4>
<p>True if repository file <code>/path/hcd/trombone.conf</code> exists, false otherwise</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli exists /path/hcd/trombone.conf
</code></pre>
<h3><a href="#getactive" name="getactive" class="anchor"><span class="anchor-link"></span></a>getActive</h3>
<p>Retrieves active file for a given path from the Configuration Service and writes it to the output file.  * &lsquo;relativeRepoPath&rsquo; is path in the repository  * <code>-o</code>, <code>--out</code> is output file path</p>
<h4><a href="#example-of-getactive-api" name="example-of-getactive-api" class="anchor"><span class="anchor-link"></span></a>Example of getActive api</h4>
<p>Gets currently active version of the repository file <code>/path/hcd/trombone.conf</code>, stores to the local disk location <code>/Users/bar/temp/scheduled_trombone.conf</code></p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli getActive /path/hcd/trombone.conf -o /Users/bar/temp/scheduled_trombone.conf
</code></pre>
<h2><a href="#about-this-application" name="about-this-application" class="anchor"><span class="anchor-link"></span></a>About this application</h2>
<p>Prints the help message.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli --help
</code></pre>
<p>Prints the version of the application.</p>
<pre class="prettyprint"><code class="language-bash">csw-config-cli --version
</code></pre><div class="callout note "><div class="callout-title">Note</div>
<p>All the above examples require that <code>csw-location-server</code> is running on local machine at <code>localhost:7654</code>. If <code>csw-location-server</code> is running on a remote machine with an IP address or <code>172.1.1.2</code>, then you need to pass the additional <code>--locationHost 172.1.1.2</code> command line argument. Example: <code>csw-config-cli getMetadata --locationHost 172.1.1.2</code></p></div>
</div>
<div>
<a href="https://github.com/tmtsoftware/csw/tree/281af65fe0bef0c45bfbdb03d75f40ef3c223605/docs/src/main/apps/cswconfigcli.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
5.0.1-RC1
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../apps/cswonfigserverapp.html" title="csw-config-server" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
csw-config-server
</span>
</div>
</a>
<a href="../apps/csweventcli.html" title="csw-event-cli" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
csw-event-cli
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.583bbe55.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
