<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.7.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../../assets/images/favicon.png">
<title>Installed Auth Adapter (csw-aas-installed)</title>
<link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../lib/prettify/prettify.css">
<script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../assets/stylesheets/paradox-material-theme.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../services/aas/csw-aas-installed.html" title="Installed Auth Adapter (csw-aas-installed)" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
Installed Auth Adapter (csw-aas-installed)
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../services/aas/csw-aas-installed.html" title="Installed Auth Adapter (csw-aas-installed)" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
<a href="../../services/aas/csw-aas-installed.html" title="Installed Auth Adapter (csw-aas-installed)">
Installed Auth Adapter (csw-aas-installed)
</a>
</label>
<ul>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../services/aas/csw-aas-installed.html#installed-auth-adapter-csw-aas-installed-" class="header">Installed Auth Adapter (csw-aas-installed)</a>
  <ul>
    <li><a href="../../services/aas/csw-aas-installed.html#dependencies" class="header">Dependencies</a></li>
    <li><a href="../../services/aas/csw-aas-installed.html#prerequisites" class="header">Prerequisites</a></li>
    <li><a href="../../services/aas/csw-aas-installed.html#application-configurations" class="header">Application Configurations</a></li>
    <li><a href="../../services/aas/csw-aas-installed.html#building-a-cli-application" class="header">Building a CLI Application</a></li>
    <li><a href="../../services/aas/csw-aas-installed.html#source-code-for-above-examples" class="header">Source code for above examples</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 4.0.0-RC1
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../services/aas/csw-aas-installed.html#installed-auth-adapter-csw-aas-installed-" class="header">Installed Auth Adapter (csw-aas-installed)</a>
  <ul>
    <li><a href="../../services/aas/csw-aas-installed.html#dependencies" class="header">Dependencies</a></li>
    <li><a href="../../services/aas/csw-aas-installed.html#prerequisites" class="header">Prerequisites</a></li>
    <li><a href="../../services/aas/csw-aas-installed.html#application-configurations" class="header">Application Configurations</a></li>
    <li><a href="../../services/aas/csw-aas-installed.html#building-a-cli-application" class="header">Building a CLI Application</a></li>
    <li><a href="../../services/aas/csw-aas-installed.html#source-code-for-above-examples" class="header">Source code for above examples</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#installed-auth-adapter-csw-aas-installed-" name="installed-auth-adapter-csw-aas-installed-" class="anchor"><span class="anchor-link"></span></a>Installed Auth Adapter (csw-aas-installed)</h1>
<p><code>csw-aas-installed</code> is the adapter you will use if you want to build a client application that executes on a user&rsquo;s machine and talks to an AAS-protected web service application, such as a CLI application. The <a href="../config.html">Configuration Service Admin API</a> makes use of this library.</p>
<p>This is as opposed to building a web application that runs in a browser. To do that, use the <a href="csw-aas-http.html">csw-aas-http</a> library.</p>
<h2><a href="#dependencies" name="dependencies" class="anchor"><span class="anchor-link"></span></a>Dependencies</h2>
<p>To use the Akka HTTP Adapter (csw-aas-installed), add the following to your <code>build.sbt</code> file:</p>
<dl>
  <dt>sbt</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">libraryDependencies += &quot;com.github.tmtsoftware.csw&quot; %% &quot;csw-aas-installed&quot; % &quot;4.0.0-RC1&quot;
</code></pre></dd>
</dl>
<h2><a href="#prerequisites" name="prerequisites" class="anchor"><span class="anchor-link"></span></a>Prerequisites</h2>
<p>To run a client app with AAS access, we need</p>
<ul>
  <li>The CSW Location Service running</li>
  <li>An AAS instance running and registered with the Location Service</li>
  <li>A protected HTTP server running</li>
</ul>
<p>All of these can be running on different machines. To start a Location Service and AAS server on a local machine, you can make use of the <a href="../../apps/cswservices.html">csw-services</a> application.</p>
<h2><a href="#application-configurations" name="application-configurations" class="anchor"><span class="anchor-link"></span></a>Application Configurations</h2>
<p>All AAS related configurations go inside an <code>auth-config</code> block in your <code>application.conf</code> file. There are two configurations applicable for a public client application: <code>realm</code> and <code>client-id</code>.</p>
<p><code>realm</code> has a default value of <code>TMT</code> if not specified. Normally, all apps in TMT should not have to override this, however it might be useful to override this while testing your app.</p>
<p><code>client-id</code> is a mandatory configuration which specifies the client ID of the app as per its registration in AAS.</p>
<p><code>disabled</code> is an optional configuration with default value of <code>false</code>. This flag can be turned on for local development and testing purposes. It can greatly ease the process of testing business logic without having to go through the process of creating users, managing roles and logging in with user credentials to generate valid access tokens. For it to work, the same flag needs to turned on in the server application too.</p><div class="callout warning "><div class="callout-title">Caution</div>
<p>This should not be used in production</p></div>
<pre class="prettyprint"><code class="language-hocon">auth-config {
  realm = TMT # DEFAULT
  client-id = demo-cli # REQUIRED
  disabled = false # DEFAULT
}
</code></pre>
<h2><a href="#building-a-cli-application" name="building-a-cli-application" class="anchor"><span class="anchor-link"></span></a>Building a CLI Application</h2>
<p>Let&rsquo;s say that we have an existing Akka HTTP application which has some open and some protected routes, and we want to build a CLI client which accesses these routes.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/SampleRoutes.scala#L34-L48" target="_blank" title="Go to snippet source">source</a><code class="language-scala">var data: Set[String] = Set.empty

val routes: Route =
  pathPrefix(&quot;data&quot;) {
    get {                    // un-protected route for reading data
      pathEndOrSingleSlash { // e.g HTTP GET http://localhost:7000/data
        complete(data)
      }
    } ~ sPost(RealmRolePolicy(&quot;admin&quot;)) { // only users with &#39;admin&#39; role is allowed for this route
      parameter(&quot;value&quot;) { value =&gt;       // e.g POST GET localhost:7000/data?value=abc
        data = data + value
        complete(StatusCodes.OK)
      }
    }
  }</code></pre></dd>
</dl><div class="callout note "><div class="callout-title">Note</div>
<p>To know more about how to create secure web APIs, please go through <a href="csw-aas-http.html">Akka HTTP Adapter - csw-aas-http</a></p></div>
<p>We will create a CLI application that has following commands:</p>
<table>
  <thead>
    <tr>
      <th align="left">command </th>
      <th align="left">description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">login </td>
      <td align="left">performs user authentication </td>
    </tr>
    <tr>
      <td align="left">logout </td>
      <td align="left">logs user out </td>
    </tr>
    <tr>
      <td align="left">read </td>
      <td align="left">reads data from server </td>
    </tr>
    <tr>
      <td align="left">write {content} </td>
      <td align="left">writes data to server </td>
    </tr>
  </tbody>
</table>
<p>Let&rsquo;s begin with <code>Main.scala</code></p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/Main.scala#L10-L26" target="_blank" title="Go to snippet source">source</a><code class="language-scala">object Main extends App {

  LocationServerStatus.requireUpLocally()

  implicit val actorSystem: ActorSystem[_] = ActorSystem(Behaviors.empty, &quot;example-system&quot;)

  val adapter: InstalledAppAuthAdapter = AdapterFactory.makeAdapter

  val command: Option[AppCommand] = CommandFactory.makeCommand(adapter, args)

  try {
    command.foreach(_.run())
  }
  finally {
    actorSystem.terminate()
  }
}</code></pre></dd>
</dl>
<p>The statement <code>LocationServerStatus.requireUpLocally()</code> ensures that the Location Service is up and running before proceeding further. If it is not running, an exception will be thrown and the application will exit.</p><div class="callout note "><div class="callout-title">Note</div>
<p>In a real application, you would ideally want to use <code>LocationServerStatus.requireUp</code> which takes <code>locationHost: String</code> parameter instead of looking for the Location Service on the localhost. </p></div>
<p>Next, we will instantiate <code>InstalledAppAuthAdapter</code>. There is a factory already available to create the required instance. We will create a small factory on top of this factory to keep our Main.scala clean.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/AdapterFactory.scala#L15-L22" target="_blank" title="Go to snippet source">source</a><code class="language-scala">object AdapterFactory {
  def makeAdapter(implicit actorSystem: typed.ActorSystem[_]): InstalledAppAuthAdapter = {
    implicit val ec: ExecutionContextExecutor = actorSystem.executionContext
    val locationService: LocationService      = HttpLocationServiceFactory.makeLocalClient(actorSystem)
    val authStore                             = new FileAuthStore(Paths.get(&quot;/tmp/demo-cli/auth&quot;))
    InstalledAppAuthAdapterFactory.make(locationService, authStore)
  }
}</code></pre></dd>
</dl>
<p>Note the the internal factory method we have used requires two parameters: a reference to the Location Service to resolve the AAS Server, and <code>authStore</code>, which is a file-based access token storage system.</p><div class="callout warning "><div class="callout-title">Warning</div>
<p>In this case we have configured it to store all tokens in the &ldquo;/tmp/demo-cli/auth&rdquo; directory, but ideally you want this location to be somewhere in the user&rsquo;s home directory. This will ensure that different users don&rsquo;t have access to each other&rsquo;s tokens.</p></div>
<p>Coming back to Main.scala, now we need to find out which command the user wants to execute. To parse the user input arguments, we will create a small utility.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/commands/CommandFactory.scala#L7-L25" target="_blank" title="Go to snippet source">source</a><code class="language-scala">object CommandFactory {
  def makeCommand(adapter: InstalledAppAuthAdapter, args: Array[String])(implicit
      actorSystem: typed.ActorSystem[_]
  ): Option[AppCommand] = {

    // ============ NOTE ============
    // We are doing hand parsing of command line arguments here for the demonstration purpose to keep things simple.
    // However, we strongly recommend that you use one of the existing CLI libraries. CSW makes extensive use of scopt.
    args match {
      case Array(&quot;login&quot;)          =&gt; Some(new LoginCommand(adapter))
      case Array(&quot;logout&quot;)         =&gt; Some(new LogoutCommand(adapter))
      case Array(&quot;read&quot;)           =&gt; Some(new ReadCommand)
      case Array(&quot;write&quot;, content) =&gt; Some(new WriteCommand(adapter, content))
      case _ =&gt;
        println(&quot;invalid or no command\nvalid commands are: login, logout, read &amp; write&quot;)
        None
    }
  }
}</code></pre></dd>
</dl>
<p>All of these commands extend from a simple trait - <code>AppCommand</code>.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/commands/AppCommand.scala#L4-L6" target="_blank" title="Go to snippet source">source</a><code class="language-scala">trait AppCommand {
  def run(): Unit
}</code></pre></dd>
</dl>
<p>Its single method <code>run</code> is executed in our application once the arguments are parsed into an <code>AppCommand</code>.</p><div class="callout note "><div class="callout-title">Note</div>
<p>We could have used a command line parser library here to parse the command names and options/arguments, but since our requirements are simple and this is a demonstration, we will keep things simple. However, we strongly recommend that you use one of the existing libraries. CSW makes extensive use of <a href="https://github.com/scopt/scopt">scopt</a>. There are other libraries which are equally good and easy to use.</p></div>
<p>Let&rsquo;s go through each command one by one:</p>
<h3><a href="#login" name="login" class="anchor"><span class="anchor-link"></span></a>Login</h3>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/commands/LoginCommand.scala#L6-L11" target="_blank" title="Go to snippet source">source</a><code class="language-scala">class LoginCommand(val installedAppAuthAdapter: InstalledAppAuthAdapter) extends AppCommand {
  override def run(): Unit = {
    installedAppAuthAdapter.login()
    println(&quot;SUCCESS : Logged in successfully&quot;)
  }
}</code></pre></dd>
</dl>
<p>Here the constructor takes an <code>InstalledAppAuthAdapter</code> as a parameter, and in the <code>run</code> method, it calls <code>installedAppAuthAdapter.login()</code>. This method opens a browser and redirects the user to a TMT login screen (served by AAS). In the background, it starts an HTTP server on a random port. Once the user submits the correct credentials on the login screen, AAS redirects the user to <code>http://localhost:[SomePort]</code> with the access and refresh tokens in a query string. The <code>InstalledAppAuthAdapter</code> will then save these tokens to the file system using <code>FileAuthStore</code>. After this, <code>InstalledAppAuthAdapter</code> will shut down the local server since it is no longer needed. The user can then close the browser.</p>
<p>If you want to develop a CLI app that is not dependent on a browser, you can call <code>loginCommandLine()</code> method instead of <code>login()</code>. This will prompt the user to provide credentials in the CLI instead of opening a browser.</p><div class="callout note "><div class="callout-title">Note</div>
<p>While the <code>loginCommandLine()</code> method is available, a browser is generally more user-friendly since it can store cookies and remember passwords.</p></div>
<h3><a href="#logout" name="logout" class="anchor"><span class="anchor-link"></span></a>Logout</h3>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/commands/LogoutCommand.scala#L6-L11" target="_blank" title="Go to snippet source">source</a><code class="language-scala">class LogoutCommand(val installedAppAuthAdapter: InstalledAppAuthAdapter) extends AppCommand {
  override def run(): Unit = {
    installedAppAuthAdapter.logout()
    println(&quot;SUCCESS : Logged out successfully&quot;)
  }
}</code></pre></dd>
</dl>
<p>The structure here is very similar to the <code>login</code> command. <code>installedAppAuthAdapter.logout()</code> clears all the tokens from the file system via <code>FileAuthStore</code>.</p>
<h3><a href="#read" name="read" class="anchor"><span class="anchor-link"></span></a>Read</h3>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/commands/ReadCommand.scala#L13-L19" target="_blank" title="Go to snippet source">source</a><code class="language-scala">class ReadCommand(implicit val actorSystem: typed.ActorSystem[_]) extends AppCommand {
  override def run(): Unit = {
    val url      = &quot;http://localhost:7000/data&quot;
    val response = Await.result(Http().singleRequest(HttpRequest(uri = Uri(url))), 2.seconds)
    println(convertToString(response.entity))
  }
}</code></pre></dd>
</dl>
<p>Since the get route is not protected by any authentication or authorization in the our example server, the <code>read</code> command simply sends a get request and prints the response.</p>
<h3><a href="#write" name="write" class="anchor"><span class="anchor-link"></span></a>Write</h3>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/csw/tree/master/examples/src/main/scala/example/auth/installed/commands/WriteCommand.scala#L12-L45" target="_blank" title="Go to snippet source">source</a><code class="language-scala">class WriteCommand(val installedAppAuthAdapter: InstalledAppAuthAdapter, value: String)(implicit
    val actorSystem: typed.ActorSystem[_]
) extends AppCommand {
  override def run(): Unit = {

    installedAppAuthAdapter.getAccessToken() match {
      case Some(token) =&gt;
        val bearerToken = headers.OAuth2BearerToken(token.value)
        val url         = s&quot;http://localhost:7000/data?value=$value&quot;
        val response =
          Await.result(
            Http().singleRequest(
              HttpRequest(
                method = HttpMethods.POST,
                uri = Uri(url),
                headers = List(headers.Authorization(bearerToken))
              )
            ),
            2.seconds
          )

        response.status match {
          case StatusCodes.OK           =&gt; println(&quot;Success&quot;)
          case StatusCodes.Unauthorized =&gt; println(&quot;Authentication failed&quot;)
          case StatusCodes.Forbidden    =&gt; println(&quot;Permission denied&quot;)
          case code                     =&gt; println(s&quot;Unrecognised error: http status code = ${code.value}&quot;)
        }

      case None =&gt;
        println(&quot;you need to login before executing this command&quot;)
        System.exit(1)
    }
  }
}</code></pre></dd>
</dl>
<p>The WriteCommand constructor takes an <code>InstalledAppAuthAdapter</code> and a string value, passed in at the command line. Since the post route is protected by a realm role policy in our example server, we need to pass a bearer token in the request header. </p>
<p><code>installedAppAuthAdapter.getAccessTokenString()</code> checks the <code>FileAuthStore</code> and returns an <code>Option[String]</code>. If the Option is <code>None</code>, it means that user has not logged in and an error message is displayed. If the token is found, the bearer token is obtained and passed in the header of the request to the HTTP server. The HTTP server uses this token to determine whether the client has the proper permissions to perform the request.</p>
<p>If the response status code is 200, it means authentication and authorization were successful. In our example, authorization required that the user had the <code>admin</code> role. </p>
<p>If the response is 401 (<code>StatusCodes.Unauthorized</code>), there is something wrong with the token. It could indicate that token has expired or does not have a valid signature. <code>InstalledAppAuthAdapter</code> ensures that you don&rsquo;t send a request with an expired token. If the access token is expired, it refreshes the access token with the help of a <code>refresh</code> token. If the refresh token has also expired, it returns <code>None</code> which means that user has to log in again.</p>
<p>If the response is 403 (<code>StatusCodes.Forbidden</code>), the token is valid but the token is not authorized to perform that action. In our example, this would occur if the user does not have the <code>admin</code> role.</p>
<h2><a href="#source-code-for-above-examples" name="source-code-for-above-examples" class="anchor"><span class="anchor-link"></span></a>Source code for above examples</h2>
<p><a href="https://github.com/tmtsoftware/csw/tree/v4.0.0-RC1/examples/src/main/scala/example/auth/installed">Example</a></p>
</div>
<div>
<a href="https://github.com/tmtsoftware/csw/tree/master/docs/src/main/services/aas/csw-aas-installed.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
4.0.0-RC1
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../."}})</script>
<script type="text/javascript" src="../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
