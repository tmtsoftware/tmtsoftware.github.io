<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.7.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../assets/images/favicon.png">
<title>Adding a Submit Command Â· Gateway UI Application Tutorial</title>
<link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="Gateway UI Application Tutorial" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Gateway UI Application Tutorial
</span>
<span class="md-header-nav__topic">
Adding a Submit Command
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../index.html" title="Gateway UI Application Tutorial" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
<a href="../index.html" title="Gateway UI Application Tutorial">
Gateway UI Application Tutorial
</a>
</label>
<ul>
  <li><a href="../flows/base-flow.html" class="page">Creating Gateway UI Application</a></li>
  <li><a href="../flows/submit-commands.html" class="active page">Adding a Submit Command</a></li>
  <li><a href="../flows/subscribe-event.html" class="page">Adding Event Subscription</a></li>
  <li><a href="../flows/docs-flow.html" class="page">Adding Paradox Documentation</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../flows/submit-commands.html#adding-a-submit-command" class="header">Adding a Submit Command</a>
  <ul>
    <li><a href="../flows/submit-commands.html#start-an-assembly-using-esw-shell" class="header">Start an Assembly using esw-shell</a></li>
    <li><a href="../flows/submit-commands.html#add-submit-command-component" class="header">Add Submit Command Component</a></li>
    <li><a href="../flows/submit-commands.html#integrate-submitcommand-component" class="header">Integrate SubmitCommand Component</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.2.0-RC1
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../flows/submit-commands.html#adding-a-submit-command" class="header">Adding a Submit Command</a>
  <ul>
    <li><a href="../flows/submit-commands.html#start-an-assembly-using-esw-shell" class="header">Start an Assembly using esw-shell</a></li>
    <li><a href="../flows/submit-commands.html#add-submit-command-component" class="header">Add Submit Command Component</a></li>
    <li><a href="../flows/submit-commands.html#integrate-submitcommand-component" class="header">Integrate SubmitCommand Component</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#adding-a-submit-command" name="adding-a-submit-command" class="anchor"><span class="anchor-link"></span></a>Adding a Submit Command</h1>
<p>In this part of the tutorial, we want to send a Setup Command to an Assembly from the UI application via Gateway server.</p>
<p>Visit <a href="https://tmtsoftware.github.io/csw/4.0.1-RC1/params/commands.html">here</a> to learn more about commands.</p>
<p>Visit <a href="https://tmtsoftware.github.io/csw/4.0.1-RC1/commons/create-component.html">here</a> to learn more about components.</p>
<h2><a href="#start-an-assembly-using-esw-shell" name="start-an-assembly-using-esw-shell" class="anchor"><span class="anchor-link"></span></a>Start an Assembly using esw-shell</h2>
<p>We will use the esw-shell utility to create and start a simple Assembly. The esw-shell is a REPL application that provides numerous tools for TMT programming. Visit <a href="https://tmtsoftware.github.io/esw/0.4.0-RC1/eswshell/esw-shell.html">here</a> to learn more about the esw-shell utility.</p>
<pre class="prettyprint"><code class="language-bash">cs install esw-shell
esw-shell start 
@                 // you are inside ammonite repl now
</code></pre>
<p>We will use an esw-shell <a href="https://tmtsoftware.github.io/esw/0.4.0-RC1/eswshell/esw-shell.html#using-custom-component-handlers">feature</a> that allows the dynamic creation of component by specifying command handler functionality when spawning the component.</p>
<p>Our assembly will take a <code>sleep</code> command with <code>sleepInSeconds</code> (LongKey) parameter. This is a long-running command which will return a <code>Started</code> response immediately and then a <code>Completed</code> response after sleeping the time provided in the parameter. Any other command other than <code>sleep</code> immediately returns a <code>Completed</code> response.</p>
<p>Run this command inside esw-shell&rsquo;s ammonite shell:</p>
<pre class="prettyprint"><code class="language-bash">spawnAssemblyWithHandler(
      &quot;ESW.defaultAssembly&quot;,
      (ctx, cswCtx) =&gt;
        new DefaultComponentHandlers(ctx, cswCtx) {
          override def onSubmit(runId: Id, controlCommand: ControlCommand): CommandResponse.SubmitResponse = {
            controlCommand.commandName.name match {
              case &quot;sleep&quot; =&gt;
                val defaultSleepParam = LongKey.make(&quot;sleepInSeconds&quot;).set(5)
                val sleepParam = controlCommand.paramType.get(&quot;sleepInSeconds&quot;, LongKey).getOrElse(defaultSleepParam)
                cswCtx.timeServiceScheduler.scheduleOnce(UTCTime(UTCTime.now().value.plusSeconds(sleepParam.value(0)))) {
                  cswCtx.commandResponseManager.updateCommand(CommandResponse.Completed(runId))
                }
                CommandResponse.Started(runId)
              case _ =&gt; CommandResponse.Completed(runId)
            }
          }
        }
    )
</code></pre>
<p>This should start an assembly with prefix <code>ESW.defaultAssembly</code>.</p>
<h2><a href="#add-submit-command-component" name="add-submit-command-component" class="anchor"><span class="anchor-link"></span></a>Add Submit Command Component</h2>
<p>Assuming that you have followed the <a href="base-flow.html">basic flow</a>, we can go further and add functionality to the UI to submit a command to our assembly. </p>
<p>Create the file <code>SubmitCommand.tsx</code> in the <code>src/components</code> folder.</p>
<p>Copy the following code into <code>SubmitCommand.tsx</code>:</p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-gateway-ui-example/tree/master/src/components/SubmitCommand.tsx#L2-L179" target="_blank" title="Go to snippet source">source</a><code class="language-tsx">import {
  CommandService,
  ComponentId,
  longKey,
  Observe,
  Prefix,
  Setup
} from &#39;@tmtsoftware/esw-ts&#39;
import type { SubmitResponse } from &#39;@tmtsoftware/esw-ts&#39;
import {
  Badge,
  Button,
  Card,
  Divider,
  Form,
  Input,
  message,
  Select,
  Typography
} from &#39;antd&#39;
import type { PresetColorType } from &#39;antd/lib/_util/colors&#39;
import React, { useState } from &#39;react&#39;
import { useAuth } from &#39;../hooks/useAuth&#39;

const getResultType = (
  resultType: SubmitResponse[&#39;_type&#39;]
): PresetColorType =&gt; {
  switch (resultType) {
    case &#39;Started&#39;:
      return &#39;yellow&#39;
    case &#39;Completed&#39;:
      return &#39;green&#39;
    case &#39;Cancelled&#39;:
      return &#39;yellow&#39;
    default:
      return &#39;red&#39;
  }
}

export const SubmitCommand = ({
  _commandService
}: {
  _commandService?: CommandService
}): JSX.Element =&gt; {
  const { auth } = useAuth()
  const authData = { tokenFactory: () =&gt; auth?.token() }

  const [prefix, setPrefix] = useState&lt;string&gt;(&#39;&#39;)
  const [command, setCommand] = useState&lt;string&gt;(&#39;&#39;)
  const [sleepTime, setSleepTime] = useState&lt;number&gt;()
  const [result, setResult] = useState&lt;SubmitResponse&gt;()
  const [commandType, setCommandType] = useState&lt;&#39;Setup&#39; | &#39;Observe&#39;&gt;(&#39;Setup&#39;)
  const [componentType, setComponentType] = useState&lt;&#39;HCD&#39; | &#39;Assembly&#39;&gt;(
    &#39;Assembly&#39;
  )

  const submit = async () =&gt; {
    try {
      const sleepInMs = longKey(&#39;sleepInSeconds&#39;).set([
        sleepTime ? sleepTime : 0
      ])
      const commandService = _commandService
        ? _commandService
        : await CommandService(
            new ComponentId(Prefix.fromString(prefix), componentType),
            authData
          )

      const _command =
        commandType === &#39;Observe&#39;
          ? new Observe(Prefix.fromString(prefix), command, [sleepInMs])
          : new Setup(Prefix.fromString(prefix), command, [sleepInMs])

      const result = await commandService.submit(_command)

      switch (result._type) {
        case &#39;Started&#39;:
          setResult(result)
          const res = await commandService.queryFinal(result.runId, 5)
          setResult(res)
          break
        default:
          setResult(result)
          break
      }
    } catch (e) {
      message.error((e as Error).message)
      setResult(undefined)
    }
  }

  return (
    &lt;Card
      style={{
        maxWidth: &#39;30rem&#39;,
        maxHeight: &#39;45rem&#39;
      }}
      title={
        &lt;Typography.Title level={2}&gt;Submit Command Example&lt;/Typography.Title&gt;
      }&gt;
      &lt;Form&gt;
        &lt;Form.Item label=&#39;Command Type&#39; required&gt;
          &lt;Select
            id=&#39;commandType&#39;
            value={commandType}
            onChange={(e) =&gt; setCommandType(e)}&gt;
            &lt;Select.Option value=&#39;Setup&#39;&gt;Setup&lt;/Select.Option&gt;
            &lt;Select.Option value=&#39;Observe&#39;&gt;Observe&lt;/Select.Option&gt;
          &lt;/Select&gt;
        &lt;/Form.Item&gt;
        &lt;Form.Item label=&#39;Component Type&#39; required&gt;
          &lt;Select
            id=&#39;componentType&#39;
            value={componentType}
            onChange={(e) =&gt; setComponentType(e)}&gt;
            &lt;Select.Option value=&#39;HCD&#39;&gt;HCD&lt;/Select.Option&gt;
            &lt;Select.Option value=&#39;Assembly&#39;&gt;Assembly&lt;/Select.Option&gt;
          &lt;/Select&gt;
        &lt;/Form.Item&gt;
        &lt;Form.Item label=&#39;Prefix&#39; required&gt;
          &lt;Input
            role=&#39;Prefix&#39;
            value={prefix}
            placeholder=&#39;ESW.defaultAssembly&#39;
            onChange={(e) =&gt; setPrefix(e.target.value)}
          /&gt;
        &lt;/Form.Item&gt;
        &lt;Form.Item label=&#39;Command Name&#39; required&gt;
          &lt;Input
            role=&#39;commandName&#39;
            value={command}
            placeholder=&#39;noop&#39;
            onChange={(e) =&gt; setCommand(e.target.value)}
          /&gt;
        &lt;/Form.Item&gt;
        &lt;Form.Item label=&#39;Sleep&#39; hidden={command !== &#39;sleep&#39;}&gt;
          &lt;Input
            role=&#39;sleep&#39;
            value={sleepTime}
            placeholder=&#39;Enter value in terms of milliseconds&#39;
            type=&#39;number&#39;
            onChange={(e) =&gt; setSleepTime(Number(e.target.value))}
          /&gt;
        &lt;/Form.Item&gt;
        &lt;Form.Item wrapperCol={{ offset: 16, span: 16 }}&gt;
          &lt;Button
            role=&#39;Submit&#39;
            type=&#39;primary&#39;
            onClick={submit}
            disabled={prefix === &#39;&#39; || command === &#39;&#39;}&gt;
            Submit
          &lt;/Button&gt;
        &lt;/Form.Item&gt;
      &lt;/Form&gt;
      &lt;Divider /&gt;
      &lt;Typography.Title level={2}&gt;Result&lt;/Typography.Title&gt;
      &lt;Typography.Paragraph&gt;
        {result &amp;&amp; (
          &lt;Badge.Ribbon
            color={getResultType(result._type)}
            style={{ width: &#39;0.75rem&#39;, height: &#39;0.75rem&#39; }}&gt;
            &lt;pre role=&#39;result&#39;&gt;{JSON.stringify(result, null, 4)}&lt;/pre&gt;
          &lt;/Badge.Ribbon&gt;
        )}
      &lt;/Typography.Paragraph&gt;
    &lt;/Card&gt;
  )
}</code></pre></dd>
</dl>
<p>There is a lot to unpack here, so we will describe the code in sections. </p>
<p>Within the return statement, we specify a <code>&lt;Card&gt;</code> component to be the root component of our form. Here we provide some styling as well as titles for our sections, and a section at the bottom to display the result. The form for composing the command in encoded in a <code>&lt;Form&gt;</code> component. Within it, we have the following components:</p>
<ul>
  <li>CommandType - A Selectable with Options(Setup/Observe)</li>
  <li>ComponentType - A Selectable with Options(Assembly/HCD)</li>
  <li>Prefix - A Text Input (user to put Appropriate Prefix of our Assembly)</li>
  <li>Command - A Text Input (user to put command <code>sleep</code> or anything else)</li>
  <li>Sleep - A Optional field visible only when command is <code>sleep</code> (Time to sleep in seconds).</li>
  <li>Submit - A Button to submit command.</li>
</ul>
<p>In the definition of the <code>SubmitCommand</code> object near the top of the file, we define React <a href="https://reactjs.org/docs/hooks-state.html">state hooks</a> to store the values specified in our form. </p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-gateway-ui-example/tree/master/src/components/SubmitCommand.tsx#L52-L59" target="_blank" title="Go to snippet source">source</a><code class="language-tsx">const [prefix, setPrefix] = useState&lt;string&gt;(&#39;&#39;)
const [command, setCommand] = useState&lt;string&gt;(&#39;&#39;)
const [sleepTime, setSleepTime] = useState&lt;number&gt;()
const [result, setResult] = useState&lt;SubmitResponse&gt;()
const [commandType, setCommandType] = useState&lt;&#39;Setup&#39; | &#39;Observe&#39;&gt;(&#39;Setup&#39;)
const [componentType, setComponentType] = useState&lt;&#39;HCD&#39; | &#39;Assembly&#39;&gt;(
  &#39;Assembly&#39;
)</code></pre></dd>
</dl>
<p>The definition of each state specifies a tuple that gives the name of variable to hold the value, and the name of the setter method for that state variable. These are used in each corresponding Form component in the <code>value</code> and <code>onChange</code> attributes.</p>
<p>Next, note the <code>submit</code> method defined after the command state hooks. This defines the action to be called when the Submit button is clicked. This is linked to the Button component in the <code>onFinish</code> attribute.</p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-gateway-ui-example/tree/master/src/components/SubmitCommand.tsx#L63-L95" target="_blank" title="Go to snippet source">source</a><code class="language-tsx">const submit = async () =&gt; {
  try {
    const sleepInMs = longKey(&#39;sleepInSeconds&#39;).set([
      sleepTime ? sleepTime : 0
    ])
    const commandService = _commandService
      ? _commandService
      : await CommandService(
          new ComponentId(Prefix.fromString(prefix), componentType),
          authData
        )

    const _command =
      commandType === &#39;Observe&#39;
        ? new Observe(Prefix.fromString(prefix), command, [sleepInMs])
        : new Setup(Prefix.fromString(prefix), command, [sleepInMs])

    const result = await commandService.submit(_command)

    switch (result._type) {
      case &#39;Started&#39;:
        setResult(result)
        const res = await commandService.queryFinal(result.runId, 5)
        setResult(res)
        break
      default:
        setResult(result)
        break
    }
  } catch (e) {
    message.error((e as Error).message)
    setResult(undefined)
  }</code></pre></dd>
</dl>
<p>This method makes use of the <a href="https://tmtsoftware.github.io/esw-ts/services/command-service.html">Command Service</a> Typescript client which provides access to the Command Service routes in the Gateway. It constructs the appropriate command from the form and submits it to the Assembly as specified by the Prefix field. It then gets the results and calls the <code>SetResult</code> state hook setter. This causes the result to be displayed in the result component, which we defined at the bottom of the Card component: </p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-gateway-ui-example/tree/master/src/components/SubmitCommand.tsx#L165-L174" target="_blank" title="Go to snippet source">source</a><code class="language-tsx">&lt;Typography.Title level={2}&gt;Result&lt;/Typography.Title&gt;
&lt;Typography.Paragraph&gt;
  {result &amp;&amp; (
    &lt;Badge.Ribbon
      color={getResultType(result._type)}
      style={{ width: &#39;0.75rem&#39;, height: &#39;0.75rem&#39; }}&gt;
      &lt;pre role=&#39;result&#39;&gt;{JSON.stringify(result, null, 4)}&lt;/pre&gt;
    &lt;/Badge.Ribbon&gt;
  )}
&lt;/Typography.Paragraph&gt;</code></pre></dd>
</dl>
<p>We provide additional functionality to help track result status by color coding a small flag in result component based on its type. Note that the color of the flag depends on the evaluation of a method we define at the top of the file, which returns the appropriate color based on the result type. This function goes outside of the component because it is independent of React component&rsquo;s state.</p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-gateway-ui-example/tree/master/src/components/SubmitCommand.tsx#L27-L40" target="_blank" title="Go to snippet source">source</a><code class="language-tsx">const getResultType = (
  resultType: SubmitResponse[&#39;_type&#39;]
): PresetColorType =&gt; {
  switch (resultType) {
    case &#39;Started&#39;:
      return &#39;yellow&#39;
    case &#39;Completed&#39;:
      return &#39;green&#39;
    case &#39;Cancelled&#39;:
      return &#39;yellow&#39;
    default:
      return &#39;red&#39;
  }
}</code></pre></dd>
</dl>
<h2><a href="#integrate-submitcommand-component" name="integrate-submitcommand-component" class="anchor"><span class="anchor-link"></span></a>Integrate SubmitCommand Component</h2>
<p>Finally, update Main.tsx to include <code>SubmitCommand</code> component.</p>
<p>Replace the Hello World text with our component, <code>&lt;SubmitCommand /&gt;</code>, below <code>div</code>&rsquo;s style tag, and add the necessary import.</p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-gateway-ui-example/tree/master/src/components/Main.tsx#L11-L32" target="_blank" title="Go to snippet source">source</a><code class="language-tsx">export const Main = (): JSX.Element =&gt; {
  const { auth } = useAuth()
  if (!auth) return &lt;div&gt;Loading&lt;/div&gt;
  const isAuthenticated = auth?.isAuthenticated() ?? false

  return isAuthenticated ? (
    &lt;div
      style={{
        display: &#39;flex&#39;,
        placeContent: &#39;space-around&#39;,
        paddingTop: &#39;2rem&#39;
      }}&gt;
      &lt;SubmitCommand /&gt;
    &lt;/div&gt;
  ) : (
    &lt;Login /&gt;
  )
}</code></pre></dd>
</dl>
<p>UI should render the following view at this moment.</p>
<p><img src="../images/submit-command.png" alt="submit-command.png" /></p>
<p>Fill in the values for all input fields and submit.</p>
<pre class="prettyprint"><code class="nocode">prefix : ESW.defaultAssembly
command : sleep
sleep : 2
</code></pre>
<p>The UI should be updated with the following results.</p>
<p>First the UI receives <code>Started</code> response.</p>
<p><img src="../images/started.png" alt="started" /></p>
<p>And after 2 seconds, the <code>Completed</code> response is received.</p>
<p><img src="../images/Completed.png" alt="completed" /></p>
<ul>
  <li>Follow the tutorial <a href="subscribe-event.html">here</a> to add the Subscribe Event functionality.</li>
</ul>
</div>
<div>
<a href="https://github.com/tmtsoftware/esw-gateway-ui-example/tree/master/docs/src/main/flows/submit-commands.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.2.0-RC1
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../flows/base-flow.html" title="Creating Gateway UI Application" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Creating Gateway UI Application
</span>
</div>
</a>
<a href="../flows/subscribe-event.html" title="Adding Event Subscription" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Adding Event Subscription
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.583bbe55.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
