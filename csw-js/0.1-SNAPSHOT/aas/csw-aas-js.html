<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.6.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../assets/tmt_favicon.ico">
<title>Javascript Adapter (csw-aas-js) · TMT CSW Javascript Adapters</title>
<link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="TMT CSW Javascript Adapters" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
TMT CSW Javascript Adapters
</span>
<span class="md-header-nav__topic">
Javascript Adapter (csw-aas-js)
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/tmtsoftware/csw-js"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tmtsoftware/csw-js
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../index.html" title="TMT CSW Javascript Adapters" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
<a href="../index.html" title="TMT CSW Javascript Adapters">
TMT CSW Javascript Adapters
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/tmtsoftware/csw-js"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tmtsoftware/csw-js
</div>
</a>

</div>
<ul>
  <li><a href="../aas/csw-aas-js.html" class="active page">Javascript Adapter (csw-aas-js)</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../aas/csw-aas-js.html#javascript-adapter-csw-aas-js-" class="header">Javascript Adapter (csw-aas-js)</a>
  <ul>
    <li><a href="../aas/csw-aas-js.html#dependencies" class="header">Dependencies</a></li>
    <li><a href="../aas/csw-aas-js.html#components" class="header">Components</a></li>
    <li><a href="../aas/csw-aas-js.html#authcontextprovider" class="header">AuthContextProvider</a></li>
    <li><a href="../aas/csw-aas-js.html#consumer" class="header">Consumer</a></li>
    <li><a href="../aas/csw-aas-js.html#login" class="header">Login</a></li>
    <li><a href="../aas/csw-aas-js.html#logout" class="header">Logout</a></li>
    <li><a href="../aas/csw-aas-js.html#checklogin" class="header">CheckLogin</a></li>
    <li><a href="../aas/csw-aas-js.html#realmrole" class="header">RealmRole</a></li>
    <li><a href="../aas/csw-aas-js.html#clientrole" class="header">ClientRole</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.1*
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../aas/csw-aas-js.html#javascript-adapter-csw-aas-js-" class="header">Javascript Adapter (csw-aas-js)</a>
  <ul>
    <li><a href="../aas/csw-aas-js.html#dependencies" class="header">Dependencies</a></li>
    <li><a href="../aas/csw-aas-js.html#components" class="header">Components</a></li>
    <li><a href="../aas/csw-aas-js.html#authcontextprovider" class="header">AuthContextProvider</a></li>
    <li><a href="../aas/csw-aas-js.html#consumer" class="header">Consumer</a></li>
    <li><a href="../aas/csw-aas-js.html#login" class="header">Login</a></li>
    <li><a href="../aas/csw-aas-js.html#logout" class="header">Logout</a></li>
    <li><a href="../aas/csw-aas-js.html#checklogin" class="header">CheckLogin</a></li>
    <li><a href="../aas/csw-aas-js.html#realmrole" class="header">RealmRole</a></li>
    <li><a href="../aas/csw-aas-js.html#clientrole" class="header">ClientRole</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#javascript-adapter-csw-aas-js-" name="javascript-adapter-csw-aas-js-" class="anchor"><span class="anchor-link"></span></a>Javascript Adapter (csw-aas-js)</h1>
<p>csw-aas-js is a npm package which provides react components. UI applications can use these react components which will enable UI application to show or hide components based on authentication and authorization policy. </p>
<!-- introduction to the javascript adapter -->
<h2><a href="#dependencies" name="dependencies" class="anchor"><span class="anchor-link"></span></a>Dependencies</h2>
<p>To use the csw-aas-js adapter, run this command from root folder of your application where package.json exists:</p>
<dl>
  <dt>npm</dt>
  <dd>
  <pre class="prettyprint"><code class="language-javascript">    npm i --save csw-aas-js@0.1-SNAPSHOT
</code></pre></dd>
  <dt>yarn</dt>
  <dd>
  <pre class="prettyprint"><code class="language-javascript">    yarn add csw-aas-js@0.1-SNAPSHOT
</code></pre></dd>
</dl>
<h2><a href="#components" name="components" class="anchor"><span class="anchor-link"></span></a>Components</h2>
<p>csw-aas-js exposes react components. </p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/src/aas.js#L10-L19" target="_blank" title="Go to snippet source"></a><code class="language-js">export {
  Logout,
  Login,
  CheckLogin,
  RealmRole,
  ClientRole,
  AuthContextProvider,
  Consumer,
  AuthContext,
}</code></pre></dd>
</dl>
<p>Importing and usage of those components is explained below:</p>
<h3><a href="#importing-components" name="importing-components" class="anchor"><span class="anchor-link"></span></a>Importing components</h3>
<p>Components can be imported as shown in code snippet below</p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/example/src/components/NavComponent.jsx#L4" target="_blank" title="Go to snippet source"></a><code class="language-jsx">import { Consumer, Logout, Login } from &#39;csw-aas-js&#39;</code></pre></dd>
</dl>
<p>csw-aas-js exposes following react components: </p>
<ul>
  <li><a href="#AuthContextProvider">AuthContextProvider</a></li>
  <li><a href="#consumer">Consumer</a></li>
  <li><a href="#login">Login</a></li>
  <li><a href="#logout">Logout</a></li>
  <li><a href="#checklogin">CheckLogin</a></li>
  <li><a href="#realmrole">RealmRole</a></li>
  <li><a href="#clientrole">ClientRole</a></li>
</ul>
<h2><a href="#authcontextprovider" name="authcontextprovider" class="anchor"><span class="anchor-link"></span></a>AuthContextProvider</h2>
<p>AuthContextProvider is wrapper over provider from react context API. It expects config json to be passed. This config json is UI application specific AAS server configuration e.g. clientId, realm. When user loges in AAS Server is instantiated by merging UI application specific config and predefined configuration. UI application can choose to override predefined json configuration. Once AAS sever is instantiated, auth object is updated with needed attributes and apis. This auth is available to all react components. Auth Context is designed to share data that can be considered “global” for a tree of React components and is available via Consumer. All consumers that are descendants of a Provider will re-render whenever the AuthContextProvider’s state changes i.e auth. Recommended way is use AuthContextProvider to wrap entire application so that data can be shared anywhere in application via Consumer. </p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/example/src/components/ExampleApp.jsx#L31-L69" target="_blank" title="Go to snippet source"></a><code class="language-jsx">&lt;AuthContextProvider config={config}&gt;
  &lt;BrowserRouter&gt;
    &lt;div&gt;
      &lt;NavComponent /&gt;
      &lt;Route
        exact
        path=&#39;/secured&#39;
        render={_ =&gt; (
          &lt;CheckLogin error={&lt;ExampleError /&gt;}&gt;
            &lt;Write /&gt;
          &lt;/CheckLogin&gt;
        )}
      /&gt;
      &lt;Route exact path=&#39;/public&#39; component={Read} /&gt;
    &lt;/div&gt;
  &lt;/BrowserRouter&gt;

  {
    &lt;RealmRole
      realmRole=&#39;example-admin-role&#39;
      error={&lt;ExampleError /&gt;}&gt;
      &lt;div&gt;Example admin role specific functionality&lt;/div&gt;
    &lt;/RealmRole&gt;
  }
  {
    &lt;ClientRole
      clientRole=&#39;person-role&#39;
      client=&#39;example-server&#39;
      error={&lt;ExampleError /&gt;}&gt;
      &lt;div&gt;Person role specific functionality&lt;/div&gt;
    &lt;/ClientRole&gt;
  }
&lt;/AuthContextProvider&gt;</code></pre></dd>
</dl>
<h3><a href="#source-code-for-realmrole-component" name="source-code-for-realmrole-component" class="anchor"><span class="anchor-link"></span></a>Source code for RealmRole component</h3>
<ul>
  <li><a href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/src/components/context/AuthContextProvider.jsx">AuthContextProvider Component</a></li>
</ul>
<h2><a href="#consumer" name="consumer" class="anchor"><span class="anchor-link"></span></a>Consumer</h2>
<p>Consumer is similar to consumer from react context api. auth can be accessed using Consumer component </p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/example/src/components/Read.jsx#L6-L24" target="_blank" title="Go to snippet source"></a><code class="language-jsx">&lt;Consumer&gt;
  {({ auth }) =&gt; {
    return (
      &lt;div className=&#39;nav-wrapper&#39;&gt;
        {auth &amp;&amp; auth.isAuthenticated() ? (
          &lt;div&gt;
            Hello, you are logged in
            &lt;div&gt;Open functionality&lt;/div&gt;
          &lt;/div&gt;
        ) : (
          &lt;div&gt;
            Hello, you are not logged in
            &lt;div&gt;Open functionality&lt;/div&gt;
          &lt;/div&gt;
        )}
      &lt;/div&gt;
    )
  }}
&lt;/Consumer&gt;</code></pre></dd>
</dl>
<h3><a href="#source-code-for-realmrole-component" name="source-code-for-realmrole-component" class="anchor"><span class="anchor-link"></span></a>Source code for RealmRole component</h3>
<ul>
  <li><a href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/src/components/context/AuthContext.jsx">Consumer Component</a></li>
</ul>
<h2><a href="#login" name="login" class="anchor"><span class="anchor-link"></span></a>Login</h2>
<p>Login component instantiate AAS server with configurations provided. It redirects to AAS server login page for user to login. After login auth in context is updated with appropriate values e.g. token, realm &amp; client roles etc.</p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/example/src/components/NavComponent.jsx#L34" target="_blank" title="Go to snippet source"></a><code class="language-jsx">&lt;Login /&gt;</code></pre></dd>
</dl>
<h3><a href="#source-code-for-login-component" name="source-code-for-login-component" class="anchor"><span class="anchor-link"></span></a>Source code for Login component</h3>
<ul>
  <li><a href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/src/components/Login.jsx">Login Component</a></li>
</ul>
<h2><a href="#logout" name="logout" class="anchor"><span class="anchor-link"></span></a>Logout</h2>
<p>Logout component logs out user from AAS server. It clears auth stored in context.</p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/example/src/components/NavComponent.jsx#L30-L31" target="_blank" title="Go to snippet source"></a><code class="language-jsx">  &lt;Logout /&gt;
) : (</code></pre></dd>
</dl>
<h3><a href="#source-code-for-logout-component" name="source-code-for-logout-component" class="anchor"><span class="anchor-link"></span></a>Source code for Logout component</h3>
<ul>
  <li><a href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/src/components/Logout.jsx">Logout Component</a></li>
</ul>
<h2><a href="#checklogin" name="checklogin" class="anchor"><span class="anchor-link"></span></a>CheckLogin</h2>
<p>CheckLogin components provides ability to show something only if user is logged in. In the following code snippet Write is a react component is shown only if user is logged in. Behaviour is user is not logged in can be defined by html element or react component and that can be passed to error prop e.g - ExampleError Component in following snippet</p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/example/src/components/ExampleApp.jsx#L40-L42" target="_blank" title="Go to snippet source"></a><code class="language-jsx">&lt;CheckLogin error={&lt;ExampleError /&gt;}&gt;
  &lt;Write /&gt;
&lt;/CheckLogin&gt;</code></pre></dd>
</dl>
<h3><a href="#source-code-for-checklogin-component" name="source-code-for-checklogin-component" class="anchor"><span class="anchor-link"></span></a>Source code for CheckLogin component</h3>
<ul>
  <li><a href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/src/components/authentication/CheckLogin.jsx">CheckLogin Component</a></li>
</ul>
<h2><a href="#realmrole" name="realmrole" class="anchor"><span class="anchor-link"></span></a>RealmRole</h2>
<p>RealmRole components provides ability to show something only if user is logged in and has specified realm role. In the following code snippet div is shown only if user is logged in and has realm role specified in realmRole prop Behaviour is user is not logged in can be optionally defined by html element or react component and that can be passed to error prop e.g - ExampleError Component in following snippet.</p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/example/src/components/ExampleApp.jsx#L52-L56" target="_blank" title="Go to snippet source"></a><code class="language-jsx">&lt;RealmRole
  realmRole=&#39;example-admin-role&#39;
  error={&lt;ExampleError /&gt;}&gt;
  &lt;div&gt;Example admin role specific functionality&lt;/div&gt;
&lt;/RealmRole&gt;</code></pre></dd>
</dl>
<h3><a href="#source-code-for-realmrole-component" name="source-code-for-realmrole-component" class="anchor"><span class="anchor-link"></span></a>Source code for RealmRole component</h3>
<ul>
  <li><a href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/src/components/authorization/RealmRole.jsx">RealmRole Component</a></li>
</ul>
<h2><a href="#clientrole" name="clientrole" class="anchor"><span class="anchor-link"></span></a>ClientRole</h2>
<p>ClientRole components provides ability to show something only if user is logged in and has specified client role for specified client. In the following code snippet div is shown only if user is logged in and has client role specified in clientRole prop for client specified in client prop. Behaviour is user is not logged in can be optionally defined by html element or react component and that can be passed to error prop e.g - ExampleError Component in following snippet.</p>
<dl>
  <dt>Javascript</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/example/src/components/ExampleApp.jsx#L61-L66" target="_blank" title="Go to snippet source"></a><code class="language-jsx">&lt;ClientRole
  clientRole=&#39;person-role&#39;
  client=&#39;example-server&#39;
  error={&lt;ExampleError /&gt;}&gt;
  &lt;div&gt;Person role specific functionality&lt;/div&gt;
&lt;/ClientRole&gt;</code></pre></dd>
</dl>
<h3><a href="#source-code-for-clientrole-component" name="source-code-for-clientrole-component" class="anchor"><span class="anchor-link"></span></a>Source code for ClientRole component</h3>
<ul>
  <li><a href="https://github.com/tmtsoftware/csw-js/tree/master/csw-aas-js/src/components/authorization/ClientRole.jsx">ClientRole Component</a></li>
</ul>
</div>
<div>
<a href="https://github.com/tmtsoftware/csw-js/tree/master/docs/src/main/aas/csw-aas-js.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.1*
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../index.html" title="TMT CSW Javascript Adapters" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
TMT CSW Javascript Adapters
</span>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.583bbe55.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
