<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.7.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../assets/tmt_favicon.ico">
<title>Sequencer Service Â· TMT JavaScript/Typescript Library</title>
<link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../assets/custom.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="TMT JavaScript/Typescript Library" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
TMT JavaScript/Typescript Library
</span>
<span class="md-header-nav__topic">
Sequencer Service
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/tmtsoftware/esw-ts"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tmtsoftware/esw-ts
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../index.html" title="TMT JavaScript/Typescript Library" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
<a href="../index.html" title="TMT JavaScript/Typescript Library">
TMT JavaScript/Typescript Library
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/tmtsoftware/esw-ts"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tmtsoftware/esw-ts
</div>
</a>

</div>
<ul>
  <li><a href="../UIOverview.html" class="page">User Interfaces in ESW and TMT</a></li>
  <li><a href="../common/getting-started.html" class="page">Getting Started with ESW-TS</a></li>
  <li><a href="../params/index.html" class="page">Params</a>
  <ul>
    <li><a href="../params/commands.html" class="page">Commands</a></li>
    <li><a href="../params/events.html" class="page">Events</a></li>
    <li><a href="../params/keys-and-parameters.html" class="page">Keys and Parameters</a></li>
    <li><a href="../params/result.html" class="page">Result</a></li>
    <li><a href="../params/subsystem.html" class="page">Subsystem</a></li>
    <li><a href="../params/state-variables.html" class="page">State variables</a></li>
    <li><a href="../params/units.html" class="page">Units</a></li>
  </ul></li>
  <li><a href="../aas/auth-components.html" class="page">Auth Components</a></li>
  <li><a href="../common/response-handling.html" class="page">Response Handling in ESW-TS</a></li>
  <li><a href="../common/error-handling.html" class="page">Error Handling in ESW-TS</a></li>
  <li><a href="../services/index.html" class="page">Services</a>
  <ul>
    <li><a href="../services/admin-service.html" class="page">Admin Service</a></li>
    <li><a href="../services/alarm-service.html" class="page">Alarm Service</a></li>
    <li><a href="../services/command-service.html" class="page">Command Service</a></li>
    <li><a href="../services/config-service.html" class="page">Config Service</a></li>
    <li><a href="../services/event-service.html" class="page">Event Service</a></li>
    <li><a href="../services/location-service.html" class="page">Location Service</a></li>
    <li><a href="../services/logging-service.html" class="page">Logging Service</a></li>
  </ul></li>
  <li><a href="../technical/index.html" class="page">Technical Design Documentation</a>
  <ul>
    <li><a href="../technical/agent-service.html" class="page">Agent Service</a></li>
    <li><a href="../technical/sequencer-service.html" class="active page">Sequencer Service</a></li>
    <li><a href="../technical/sequence-manager-service.html" class="page">Sequence Manager Service</a></li>
    <li><a href="../technical/auth-components.html" class="page">Auth Components</a></li>
    <li><a href="../common/contract.html" class="page">Service Contract</a></li>
  </ul></li>
  <li><a href="../common/ts-docs.html" class="page">Type Definitions</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../technical/sequencer-service.html#sequencer-service" class="header">Sequencer Service</a>
  <ul>
    <li><a href="../technical/sequencer-service.html#creation-of-sequencer-service" class="header">Creation of Sequencer Service</a></li>
    <li><a href="../technical/sequencer-service.html#creating-sequencecommands" class="header">Creating SequenceCommands</a></li>
    <li><a href="../technical/sequencer-service.html#creating-a-sequence" class="header">Creating a Sequence</a></li>
    <li><a href="../technical/sequencer-service.html#usages-of-sequencer-service" class="header">Usages of Sequencer Service</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.4.1
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../technical/sequencer-service.html#sequencer-service" class="header">Sequencer Service</a>
  <ul>
    <li><a href="../technical/sequencer-service.html#creation-of-sequencer-service" class="header">Creation of Sequencer Service</a></li>
    <li><a href="../technical/sequencer-service.html#creating-sequencecommands" class="header">Creating SequenceCommands</a></li>
    <li><a href="../technical/sequencer-service.html#creating-a-sequence" class="header">Creating a Sequence</a></li>
    <li><a href="../technical/sequencer-service.html#usages-of-sequencer-service" class="header">Usages of Sequencer Service</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#sequencer-service" name="sequencer-service" class="anchor"><span class="anchor-link"></span></a>Sequencer Service</h1>
<p>This service provides a handle to send commands to a Sequencer which is registered in Location Service.</p>
<h2><a href="#creation-of-sequencer-service" name="creation-of-sequencer-service" class="anchor"><span class="anchor-link"></span></a>Creation of Sequencer Service</h2>
<h3><a href="#pre-requisite" name="pre-requisite" class="anchor"><span class="anchor-link"></span></a>Pre-requisite</h3>
<h3><a href="#in-order-to-use-sequencer-service-client-for-a-specific-sequencer" name="in-order-to-use-sequencer-service-client-for-a-specific-sequencer" class="anchor"><span class="anchor-link"></span></a>In order to use sequencer service client for a specific sequencer</h3>
<ol>
  <li>The Sequencer and Gateway Server should be running. <code>GatewayException(InvalidComponent)</code> will be thrown if the specified sequencer not found in the Location Service.</li>
  <li>Authorization token with correct access role.  Documentation on how to fetch access token could be found <a href="../aas/auth-components.html">here</a>.</li>
</ol>
<h3><a href="#to-create-sequencer-service" name="to-create-sequencer-service" class="anchor"><span class="anchor-link"></span></a>To create Sequencer Service</h3>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L28-L33" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const tokenFactory = () =&gt; auth.token

const sequencerService: SequencerService = await SequencerService(
  new ComponentId(new Prefix(&#39;ESW&#39;, &#39;darknight&#39;), &#39;Sequencer&#39;),
  { tokenFactory }
)</code></pre></dd>
</dl>
<h2><a href="#creating-sequencecommands" name="creating-sequencecommands" class="anchor"><span class="anchor-link"></span></a>Creating SequenceCommands</h2>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L37-L43" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const eswTestPrefix = Prefix.fromString(&#39;TCS.darknight&#39;)

const setupCommand1 = new Setup(eswTestPrefix, &#39;setup-command1&#39;)
const setupCommand2 = new Setup(eswTestPrefix, &#39;setup-command2&#39;)

const observeCommand1 = new Observe(eswTestPrefix, &#39;observe-command1&#39;)
const observeCommand2 = new Observe(eswTestPrefix, &#39;observe-command2&#39;)</code></pre></dd>
</dl>
<h2><a href="#creating-a-sequence" name="creating-a-sequence" class="anchor"><span class="anchor-link"></span></a>Creating a Sequence</h2>
<p>A sequence is a list of sequence commands:</p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L47-L48" target="_blank" title="Go to snippet source">source</a><code class="language-ts">//sequence is a list of SequenceCommand
const sequence = new Sequence([setupCommand1, observeCommand1])</code></pre></dd>
</dl>
<h2><a href="#usages-of-sequencer-service" name="usages-of-sequencer-service" class="anchor"><span class="anchor-link"></span></a>Usages of Sequencer Service</h2><div class="callout note "><div class="callout-title">Async-Await</div>
<p>Note that the examples are using async/await which makes handling of promises more readable.</p></div>
<p>Type Definitions for Sequencer Service can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html">here</a></p>
<h3><a href="#loading-and-starting-a-sequence-into-a-sequencer" name="loading-and-starting-a-sequence-into-a-sequencer" class="anchor"><span class="anchor-link"></span></a>Loading and Starting a Sequence into a Sequencer</h3>
<p>To load a sequence into a Sequencer, <code>SequencerService</code> provides <code>loadSequence</code> method which takes a <code>Sequence</code> and returns a <code>Promise&lt;OkOrUnhandledResponse&gt;</code>. If Sequencer is in <code>Idle</code> state, provided sequence gets loaded into the Sequencer and an <code>Ok</code> response gets returned. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>To start a loaded sequence, <code>SequencerService</code> provides <code>startSequence</code> method which starts the sequence (which is loaded by <code>loadSequence</code> method) in the Sequencer and returns a <code>Promise&lt;SubmitResponse&gt;</code>. If Sequencer is in <code>Loaded</code> state, loaded sequence&rsquo;s execution gets started in the Sequencer and a <code>Started</code> response gets returned. Otherwise, a negative SubmitResponse gets returned.</p>
<p>Type definitions for methods used in the given example are :</p>
<ol>
  <li><a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#loadsequence">loadSequence</a></li>
  <li><a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#startsequence">startSequence</a></li>
  <li><a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#query">query</a></li>
  <li><a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#queryfinal">queryFinal</a></li>
</ol>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L52-L56" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const okOrUnhandledResponse: OkOrUnhandledResponse = await sequencerService.loadSequence(sequence)
const initialResponse: SubmitResponse = await sequencerService.startSequence()

const queryResponse: SubmitResponse = await sequencerService.query(initialResponse.runId)
const queryFinalResponse: SubmitResponse = await sequencerService.queryFinal(initialResponse.runId, 5)</code></pre></dd>
</dl>
<h3><a href="#adding-commands-into-the-sequence-after-all-the-pending-steps" name="adding-commands-into-the-sequence-after-all-the-pending-steps" class="anchor"><span class="anchor-link"></span></a>Adding commands into the sequence after all the pending steps</h3>
<p>To add commands into the sequence after all the pending steps, <code>SequencerService</code> provides <code>add</code> method which takes list of <code>SequenceCommands</code> and returns <code>Promise&lt;OkOrUnhandledResponses&gt;</code>. If Sequencer is still in execution, then given list of <code>SequenceCommands</code> gets added into the sequence after all the pending steps and a <code>Ok</code> response gets returned. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>add</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#add">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L60" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const addResponse: OkOrUnhandledResponse = await sequencerService.add([observeCommand2, setupCommand2])</code></pre></dd>
</dl>
<h3><a href="#prepending-commands-into-the-sequence-before-all-the-pending-steps" name="prepending-commands-into-the-sequence-before-all-the-pending-steps" class="anchor"><span class="anchor-link"></span></a>Prepending commands into the sequence before all the pending steps</h3>
<p>To add commands into the sequence before all the pending steps, <code>SequencerService</code> provides <code>add</code> method which takes list of <code>SequenceCommands</code> and returns <code>Promise&lt;OkOrUnhandledResponses&gt;</code>. If Sequencer is still in execution, then given list of <code>SequenceCommands</code> gets added into the sequence before all the pending steps and a <code>Ok</code> response gets returned. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>prepend</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#prepend">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L64" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const prependResponse: OkOrUnhandledResponse = await sequencerService.prepend([observeCommand2, setupCommand2])</code></pre></dd>
</dl>
<h3><a href="#replacing-a-command-with-a-list-of-commands" name="replacing-a-command-with-a-list-of-commands" class="anchor"><span class="anchor-link"></span></a>Replacing a command with a list of commands</h3>
<p>To replace a command with a list of commands, <code>SequencerService</code> provides <code>replace</code> method which takes the <code>Id</code> of the command which to be replaced and list of <code>SequenceCommands</code> and returns <code>Promise&lt;GenericResponse&gt;</code>. In case, if the command of the given <code>Id</code> is not present in sequence, then <code>IdDoesNotExist</code> response gets returned. Or if the command is already finished or in flight, then a <code>CannotOperateOnAnInFlightOrFinishedStep</code> response gets returned. In case, if the command is still pending, then it gets replaced with the given list of <code>SequenceCommands</code>. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>replace</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#replace">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L68-L71" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const replaceResponse: GenericResponse = await sequencerService.replace(&#39;d99b6cf6-553c-49e9-9089-aaa494f116e9&#39;, [
  observeCommand2,
  setupCommand2
])</code></pre></dd>
</dl>
<h3><a href="#inserting-a-list-of-commands-after-a-command" name="inserting-a-list-of-commands-after-a-command" class="anchor"><span class="anchor-link"></span></a>Inserting a list of commands after a command</h3>
<p>To insert a list of commands after a command, <code>SequencerService</code> provides <code>insertAfter</code> method which takes the <code>Id</code> of the command after which commands to be inserted and list of <code>SequenceCommands</code> and returns <code>Promise&lt;GenericResponse&gt;</code>. In case, if the command of the given <code>Id</code> is not present in sequence, then <code>IdDoesNotExist</code> response gets returned. Or if the command is already finished or in flight, then a <code>CannotOperateOnAnInFlightOrFinishedStep</code> response gets returned. In case, if the command is still pending, then the given list of <code>SequenceCommands</code> gets inserted after it. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>insertAfter</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#insertafter">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L75-L78" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const insertAfterResponse: GenericResponse = await sequencerService.insertAfter(
  &#39;d99b6cf6-553c-49e9-9089-aaa494f116e9&#39;,
  [observeCommand2, setupCommand2]
)</code></pre></dd>
</dl>
<h3><a href="#deleting-a-command-from-the-sequence" name="deleting-a-command-from-the-sequence" class="anchor"><span class="anchor-link"></span></a>Deleting a command from the sequence</h3>
<p>To delete a command from the sequence, <code>SequencerService</code> provides <code>delete</code> method which takes the <code>Id</code> of the command to be deleted and returns <code>Promise&lt;GenericResponse&gt;</code>. If sequencer is not in <code>Running</code> state, then <code>Unhandled</code> response gets returned. Or if the command of the given <code>Id</code>, is not present in sequence, then <code>IdDoesNotExist</code> response gets returned. Or if the command is still pending, then it gets deleted and <code>Ok</code> response gets returned. Otherwise, a <code>CannotOperateOnAnInFlightOrFinishedStep</code> response gets returned.</p>
<p>Type definitions for <code>delete</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#delete">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L82" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const deleteResponse: GenericResponse = await sequencerService.delete(&#39;d99b6cf6-553c-49e9-9089-aaa494f116e9&#39;)</code></pre></dd>
</dl>
<h3><a href="#adding-a-breakpoint-to-a-step" name="adding-a-breakpoint-to-a-step" class="anchor"><span class="anchor-link"></span></a>Adding a breakpoint to a Step</h3>
<p>To add a breakpoint to a Step, <code>SequencerService</code> provides <code>addBreakpoint</code> method which takes the <code>Id</code> of the command where breakpoint to be added and returns <code>Promise&lt;GenericResponse&gt;</code>. If sequencer is not in <code>Running</code> state, then <code>Unhandled</code> response gets returned. Or if the command of the given <code>Id</code>, is not present in sequence, then <code>IdDoesNotExist</code> response gets returned. Or if the command is still pending, then breakpoint gets added and <code>Ok</code> response gets returned. Otherwise, a <code>CannotOperateOnAnInFlightOrFinishedStep</code> response gets returned.</p>
<p>Type definitions for <code>addBreakpoint</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#addbreakpoint">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L86-L88" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const addBreakpointResponse: GenericResponse = await sequencerService.addBreakpoint(
  &#39;d99b6cf6-553c-49e9-9089-aaa494f116e9&#39;
)</code></pre></dd>
</dl>
<h3><a href="#removing-a-breakpoint-from-a-step" name="removing-a-breakpoint-from-a-step" class="anchor"><span class="anchor-link"></span></a>Removing a breakpoint from a Step</h3>
<p>To remove a breakpoint from a Step, <code>SequencerService</code> provides <code>removeBreakpoint</code> method which takes the <code>Id</code> of the command from where breakpoint to be removed and returns <code>Promise&lt;RemoveBreakpointResponse&gt;</code>. If sequencer is not in <code>Running</code> state, then <code>Unhandled</code> response gets returned. Or if the command of the given <code>Id</code>, is not present in sequence, then <code>IdDoesNotExist</code> response gets returned. Otherwise, breakpoint gets removed and <code>Ok</code> response gets returned.</p>
<p>Type definitions for <code>removeBreakpoint</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#removebreakpoint">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L92-L94" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const removeBreakpointResponse: RemoveBreakpointResponse = await sequencerService.removeBreakpoint(
  &#39;d99b6cf6-553c-49e9-9089-aaa494f116e9&#39;
)</code></pre></dd>
</dl>
<h3><a href="#pausing-the-sequence" name="pausing-the-sequence" class="anchor"><span class="anchor-link"></span></a>Pausing the sequence</h3>
<p>To pause the sequence, <code>SequencerService</code> provides <code>pause</code> method which returns <code>Promise&lt;PauseResponse&gt;</code>. If sequencer is in <code>Running</code> state, then an <code>Ok</code> response gets returned if there is a <code>Step</code> pending. Otherwise, a <code>CannotOperateOnAnInFlightOrFinishedStep</code> response gets returned. Or if sequencer is not in <code>Running</code> state, then <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>pause</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#pause">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L106" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const pauseResponse: PauseResponse = await sequencerService.pause()</code></pre></dd>
</dl>
<h3><a href="#resuming-a-paused-sequence" name="resuming-a-paused-sequence" class="anchor"><span class="anchor-link"></span></a>Resuming a paused sequence</h3>
<p>To resume a paused sequence, <code>SequencerService</code> provides <code>resume</code> method which returns <code>Promise&lt;PauseResponse&gt;</code>. If sequencer is in <code>Running</code> state, an <code>Ok</code> response gets returned. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>resume</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#resume">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L102" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const resumeResponse: OkOrUnhandledResponse = await sequencerService.resume()</code></pre></dd>
</dl>
<h3><a href="#getting-the-sequence-from-the-sequencer" name="getting-the-sequence-from-the-sequencer" class="anchor"><span class="anchor-link"></span></a>Getting the sequence from the Sequencer</h3>
<p>To get the sequence from the Sequencer, <code>SequencerService</code> provides <code>getSequence</code> method which returns the <code>StepList</code> (runtime representation of the sequence). if there is no sequence executing in the Sequencer, an <code>undefined</code> response gets returned.</p>
<p>Type definitions for <code>getSequence</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#getsequence">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L110" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const getSequenceRes: Option&lt;StepList&gt; = await sequencerService.getSequence()</code></pre></dd>
</dl>
<h3><a href="#checking-if-sequencer-is-available" name="checking-if-sequencer-is-available" class="anchor"><span class="anchor-link"></span></a>Checking if Sequencer is available</h3>
<p>To check if Sequencer is available, <code>SequencerService</code> provides <code>isAvailable</code> method which returns <code>Promise&lt;boolean&gt;</code>. If Sequencer is in <code>Idle</code> state, then a <code>true</code> gets returned. Otherwise, <code>false</code> response gets returned.</p>
<p>Type definitions for <code>isAvailable</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#isavailable">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L114" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const isAvailable: boolean = await sequencerService.isAvailable()</code></pre></dd>
</dl>
<h3><a href="#checking-if-sequencer-is-online" name="checking-if-sequencer-is-online" class="anchor"><span class="anchor-link"></span></a>Checking if Sequencer is online</h3>
<p>To check if Sequencer is online, <code>SequencerService</code> provides <code>isOnline</code> method which returns <code>Promise&lt;boolean&gt;</code>. If Sequencer is in <code>Idle</code> state, then a <code>true</code> gets returned. Otherwise, <code>false</code> gets returned.</p>
<p>Type definitions for <code>isOnline</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#isonline">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L118" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const isOnline: boolean = await sequencerService.isOnline()</code></pre></dd>
</dl>
<h3><a href="#discarding-all-the-pending-steps" name="discarding-all-the-pending-steps" class="anchor"><span class="anchor-link"></span></a>Discarding all the pending Steps</h3>
<p>To discard all the pending <code>Steps</code>, <code>SequencerService</code> provides a <code>reset</code> method which returns <code>Promise&lt;OkOrUnhandledResponse&gt;</code>. If Sequencer is in <code>Running</code> state, then an <code>Ok</code> response gets returned. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>reset</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#reset">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L98" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const resetResponse: OkOrUnhandledResponse = await sequencerService.reset()</code></pre></dd>
</dl>
<h3><a href="#discarding-all-the-pending-steps-and-calling-the-onabortsequence-handler-of-the-script" name="discarding-all-the-pending-steps-and-calling-the-onabortsequence-handler-of-the-script" class="anchor"><span class="anchor-link"></span></a>Discarding all the pending Steps and calling the onAbortSequence handler of the script</h3>
<p>To discard all the pending <code>Steps</code> and call the onAbortSequence handler of the script, <code>SequencerService</code> provides a <code>abortSequence</code> method which returns <code>Promise&lt;OkOrUnhandledResponse&gt;</code>. If Sequencer is in <code>Running</code> state, then an <code>Ok</code> response gets returned. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>abortSequence</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#abortsequence">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L130" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const abortResponse: OkOrUnhandledResponse = await sequencerService.abortSequence()</code></pre></dd>
</dl>
<h3><a href="#discarding-all-the-pending-steps-and-calling-the-onstop-handler-of-the-script" name="discarding-all-the-pending-steps-and-calling-the-onstop-handler-of-the-script" class="anchor"><span class="anchor-link"></span></a>Discarding all the pending Steps and calling the onStop handler of the script</h3>
<p>To discard all the pending <code>Steps</code> and call the onStop handler of the script, <code>SequencerService</code> provides a <code>stop</code> method which returns <code>Promise&lt;OkOrUnhandledResponse&gt;</code>. If Sequencer is in <code>Running</code> state, then an <code>Ok</code> response gets returned. Otherwise, an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>stop</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#stop">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L134" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const stopResponse: OkOrUnhandledResponse = await sequencerService.stop()</code></pre></dd>
</dl>
<h3><a href="#changing-sequencer-state-to-online" name="changing-sequencer-state-to-online" class="anchor"><span class="anchor-link"></span></a>Changing Sequencer state to Online</h3>
<p>To change Sequencer state to <code>Online</code>, <code>SequencerService</code> provides <code>goOnline</code> method which returns <code>Promise&lt;GoOnlineResponse&gt;</code>. If Sequencer is in any state but <code>Running</code>, then an <code>Ok</code> response gets returned (if <code>goOnline</code> handler gets executed successfully). Otherwise, a <code>GoOnlineHookFailed</code> response gets returned. Although, if Sequencer is in <code>Running</code> state, then an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>goOnline</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#goonline">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L122" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const goOnlineResponse: GoOnlineResponse = await sequencerService.goOnline()</code></pre></dd>
</dl>
<h3><a href="#changing-sequencer-state-to-offline" name="changing-sequencer-state-to-offline" class="anchor"><span class="anchor-link"></span></a>Changing Sequencer state to Offline</h3>
<p>To change Sequencer state to <code>Offline</code>, <code>SequencerService</code> provides <code>goOffline</code> method which returns <code>Promise&lt;GoOfflineResponse&gt;</code>. If Sequencer is in any State but <code>Running</code>, then an <code>Ok</code> response gets returned (if <code>goOffline</code> handler gets executed successfully). Otherwise, a <code>GoOfflineHookFailed</code> response gets returned. Although, if Sequencer is in <code>Running</code> state, then an <code>Unhandled</code> response gets returned.</p>
<p>Type definitions for <code>goOffline</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#gooffline">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L126" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const goOfflineResponse: GoOfflineResponse = await sequencerService.goOffline()</code></pre></dd>
</dl>
<h3><a href="#running-diagnosticmode" name="running-diagnosticmode" class="anchor"><span class="anchor-link"></span></a>Running diagnosticMode</h3>
<p>To run diagnosticMode handler, <code>SequencerService</code> provides <code>diagnosticMode</code> method which returns <code>Promise&lt;DiagnosticModeResponse&gt;</code>. If diagnosticMode handler of the script successfully executes, then an <code>Ok</code> response gets returned. Otherwise, a <code>DiagnosticHookFailed</code> gets returned.</p>
<p>Type definitions for <code>diagnosticMode</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#diagnosticmode">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L138" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const diagnosticResponse: DiagnosticModeResponse = await sequencerService.diagnosticMode(new Date(), &#39;engineering&#39;)</code></pre></dd>
</dl>
<h3><a href="#running-operationsmode" name="running-operationsmode" class="anchor"><span class="anchor-link"></span></a>Running operationsMode</h3>
<p>To run operationsMode handler, <code>SequencerService</code> provides <code>operationsMode</code> method which returns <code>Promise&lt;OperationsModeResponse&gt;</code>. If operationsMode handler of the script successfully executes, then an <code>Ok</code> response gets returned. Otherwise, a <code>OperationsHookFailed</code> gets returned.</p>
<p>Type definitions for <code>operationsMode</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#operationsmode">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L142" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const operationsModeResponse: OperationsModeResponse = await sequencerService.operationsMode()</code></pre></dd>
</dl>
<h3><a href="#submitting-sequence-to-a-sequencer" name="submitting-sequence-to-a-sequencer" class="anchor"><span class="anchor-link"></span></a>Submitting Sequence to a Sequencer</h3>
<p>To submit a Sequence to a Sequencer, <code>SequencerCommandService</code> provides a <code>submit</code> method which takes a Sequence and returns a <code>Promise&lt;SubmitResponse&gt;</code>.</p>
<p>If the Sequencer is idle, then provided sequence gets loaded in the Sequencer, execution of the sequence starts immediately and a <code>Started</code> response gets returned. If the sequencer is already running another sequence, then an <code>Invalid</code> response gets returned.</p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L146-L150" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const initialRes: SubmitResponse = await sequencerService.submit(sequence)

const queryRes: SubmitResponse = await sequencerService.query(initialRes.runId)

const queryFinalRes: SubmitResponse = await sequencerService.queryFinal(&#39;d99b6cf6-553c-49e9-9089-aaa494f116e9&#39;, 10)</code></pre></dd>
</dl>
<p>The <code>query</code> or <code>queryFinal</code> methods, as shown above, could be used to query for the sequence result after the sequence is <code>submit</code>ted. The <code>query</code> method returns a current response which could be either final response (eg. <code>Completed</code>) or intermediate response (eg. <code>Started</code>). Whereas <code>queryFinal</code> will wait for the final response of the sequence for the given <code>timeout</code>. This method will never return an intermediate response.</p>
<p>If you are not interested in initial/intermediate response but only in final response, you can use the <code>submitAndWait</code> method which submits the sequence and waits for the final response (if the sequence was successfully <code>Started</code>).</p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L154" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const submitAndWaitResponse: SubmitResponse = await sequencerService.submitAndWait(sequence, 10)</code></pre></dd>
</dl>
<p>Type definitions for APIs used in the given example are :</p>
<ol>
  <li><a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#submit">submit</a></li>
  <li><a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#submitandwait">submitAndWait</a></li>
  <li><a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#query">query</a></li>
  <li><a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#queryFinal">queryFinal</a></li>
</ol>
<h3><a href="#getting-status-of-sequencer" name="getting-status-of-sequencer" class="anchor"><span class="anchor-link"></span></a>Getting Status of Sequencer</h3>
<p>To get Sequencer&rsquo;s State, <code>SequenceService</code> provides <code>getSequencerState</code> method. This method returns <code>Promise&lt;SequencerState&gt;</code> the state of sequencer can be Idle, Processing, Loaded, Offline, Running</p>
<p>Type definitions for <code>getSequencerState</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#getSequencerState">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L158" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const getSequencerState: SequencerState = await sequencerService.getSequencerState()</code></pre></dd>
</dl>
<h3><a href="#subscribing-to-sequencer-state" name="subscribing-to-sequencer-state" class="anchor"><span class="anchor-link"></span></a>Subscribing to Sequencer State</h3>
<p>To subscribe to state of Sequencer, <code>subscribeSequencerState</code> method can be used. This method invokes the given <code>callback</code> on every state change with newly received <code>SequencerStateResponse</code>. <code>SequencerStateResponse</code> contains the current <code>SequencerState</code> and <code>StepList</code>. This method returns a <code>Subscription</code> which can be used to unsubscribe, as shown in example.</p>
<p>Type definitions for <code>subscribeSequencerState</code> method used can be found <a href="https://tmtsoftware.github.io/esw-ts/0.4.1/ts-docs/interfaces/clients.SequencerService.html#subscribeSequencerState">here</a></p>
<dl>
  <dt>Typescript</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/example/src/documentation/sequencer/SequencerExamples.ts#L163-L183" target="_blank" title="Go to snippet source">source</a><code class="language-ts">const callBack = (sequencerStateResponse: SequencerStateResponse) =&gt; {
  console.log(sequencerStateResponse)
}
//optional
const onErrorCallback = (error: ServiceError) =&gt; {
  // do something when error occurs
  // for ex : close connection / cleanup resources
  console.log(error)
}
//optional
const onCloseCallback = () =&gt; {
  // do something when connection is closed
  // for ex : reset client-side state
}
const subscription: Subscription = sequencerService.subscribeSequencerState()(
  callBack,
  onErrorCallback,
  onCloseCallback
)
//...
subscription.cancel() // to unsubscribe</code></pre></dd>
</dl>
</div>
<div>
<a href="https://github.com/tmtsoftware/esw-ts/tree/c1310bd1da42f50f55a30e6ecb5fcf273001e0e7/docs/src/main/technical/sequencer-service.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.4.1
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../technical/agent-service.html" title="Agent Service" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Agent Service
</span>
</div>
</a>
<a href="../technical/sequence-manager-service.html" title="Sequence Manager Service" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Sequence Manager Service
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.583bbe55.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
