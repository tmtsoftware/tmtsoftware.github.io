<!DOCTYPE html >
<html>
        <head>
          <meta http-equiv="X-UA-Compatible" content="IE=edge" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
          <title></title>
          <meta name="description" content="" />
          <meta name="keywords" content="" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../lib/index.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../lib/jquery.js"></script>
      <script type="text/javascript" src="../../lib/jquery.panzoom.min.js"></script>
      <script type="text/javascript" src="../../lib/jquery.mousewheel.min.js"></script>
      <script type="text/javascript" src="../../lib/index.js"></script>
      <script type="text/javascript" src="../../index.js"></script>
      <script type="text/javascript" src="../../lib/scheduler.js"></script>
      <script type="text/javascript" src="../../lib/template.js"></script>
      <script type="text/javascript" src="../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
        /* this variable can be used by the JS to determine the path to the root document */
        var toRoot = '../../';
      </script>
    
        </head>
        <body>
      <div id="search">
        <span id="doc-title"><span id="doc-version"></span></span>
        <span class="close-results"><span class="left">&lt;</span> Back</span>
        <div id="textfilter">
          <span class="input">
            <input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/" />
            <i class="clear material-icons"></i>
            <i id="search-icon" class="material-icons"></i>
          </span>
        </div>
    </div>
      <div id="search-results">
        <div id="search-progress">
          <div id="progress-fill"></div>
        </div>
        <div id="results-content">
          <div id="entity-results"></div>
          <div id="member-results"></div>
        </div>
      </div>
      <div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;">
        <div id="content-container" style="-webkit-overflow-scrolling: touch;">
          <div id="subpackage-spacer">
            <div id="packages">
              <h1>Packages</h1>
              <ul>
                <li name="_root_.root" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="_root_"></a><a id="root:_root_"></a>
      <span class="permalink">
      <a href="index.html#_root_" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../index.html"><span class="name">root</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="_root_.csw" visbl="pub" class="indented1 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="csw"></a><a id="csw:csw"></a>
      <span class="permalink">
      <a href="index.html#csw" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../index.html"><span class="name">csw</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="csw.commons" visbl="pub" class="indented2 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="commons"></a><a id="commons:commons"></a>
      <span class="permalink">
      <a href="../csw/index.html#commons" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../commons/index.html"><span class="name">commons</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="csw">csw</a></dd></dl></div>
    </li><li name="csw.framework" visbl="pub" class="indented2 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="framework"></a><a id="framework:framework"></a>
      <span class="permalink">
      <a href="../csw/index.html#framework" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="This project contains the framework for creating components, such as HCDs and Assemblies." href="../framework/index.html"><span class="name">framework</span></a>
      </span>
      
      <p class="shortcomment cmt">This project contains the framework for creating components, such as HCDs and Assemblies.</p><div class="fullcomment"><div class="comment cmt"><p>This project contains the framework for creating components, such as HCDs and Assemblies.</p><p>A Component is composed of an actor instance of <a href="../framework/internal/component/ComponentBehavior.html" class="extype" name="csw.framework.internal.component.ComponentBehavior">csw.framework.internal.component.ComponentBehavior</a> and an
implementation of <a href="../framework/scaladsl/ComponentHandlers.html" class="extype" name="csw.framework.scaladsl.ComponentHandlers">csw.framework.scaladsl.ComponentHandlers</a> which defines a given component.
Each component is created by an actor instance of <a href="../framework/internal/supervisor/SupervisorBehavior.html" class="extype" name="csw.framework.internal.supervisor.SupervisorBehavior">csw.framework.internal.supervisor.SupervisorBehavior</a>.</p><p>Components are either created by an actor instance of <a href="../framework/internal/container/ContainerBehavior.html" class="extype" name="csw.framework.internal.container.ContainerBehavior">csw.framework.internal.container.ContainerBehavior</a> or as a
Standalone actor instance of <a href="../framework/internal/supervisor/SupervisorBehavior.html" class="extype" name="csw.framework.internal.supervisor.SupervisorBehavior">csw.framework.internal.supervisor.SupervisorBehavior</a> from a configuration file.</p><h5> Container Config Files </h5><p>Here is an example of a config file for creating a container with the name <i>Container-1</i> that
contains one assembly (named <i>Assembly-1</i>) and depends on the services of two HCDs (<i>HCD-2A</i> and <i>HCD-2B</i>).
The assembly is implemented by the given class (<code>csw.services.pkg.TestAssembly</code>).
A <code>Supervisor</code> actor will be created to manage the assembly, which includes registering it with the
location service, using the given name and prefix. The prefix can be used to distribute parts of the
configurations to different HCDs. HCDs register themselves with the Location Service and specify a unique
prefix that can be used for this purpose.</p><pre>container {
name = Container-<span class="num">1</span>
components {
  Assembly-<span class="num">1</span> {
    <span class="kw">type</span> = Assembly
    <span class="kw">class</span> = csw.pkgDemo.assembly1.Assembly1
    prefix = tcs.base.assembly1
    connectionType: [akka]
    connections = [
      {
        name: HCD-<span class="num">2</span>A
        <span class="kw">type</span>: HCD
        connectionType: [akka]
      }
      {
        name: HCD-<span class="num">2</span>B
        <span class="kw">type</span>: HCD
        connectionType: [akka]
      }
    ]
  }
 }
}</pre></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="csw">csw</a></dd></dl></div>
    </li><li name="csw.messages" visbl="pub" class="indented2 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="messages"></a><a id="messages:messages"></a>
      <span class="permalink">
      <a href="../csw/index.html#messages" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../messages/index.html"><span class="name">messages</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="csw">csw</a></dd></dl></div>
    </li><li name="csw.services" visbl="pub" class="indented2 current" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="services"></a><a id="services:services"></a>
      <span class="permalink">
      <a href="../csw/index.html#services" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">services</span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="csw">csw</a></dd></dl></div>
    </li><li name="csw.services.command" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="command"></a><a id="command:command"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#command" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="This project defines the basic classes and traits for the Command Service." href="command/index.html"><span class="name">command</span></a>
      </span>
      
      <p class="shortcomment cmt">This project defines the basic classes and traits for the <i>Command Service</i>.</p><div class="fullcomment"><div class="comment cmt"><h4> Command Service </h4><p>This project defines the basic classes and traits for the <i>Command Service</i>.</p><p>Related projects are:
- <b>csw-messages</b>: This defines the types of command (Oneway/Submit etc.) and types of <i>configurations</i> (Setup/Observe/Wait etc.)
- <b>framework</b>: This defines the Hcd and Assembly handlers, lifecycle manager and supervisor for components.</p><p>Important classes in this project are:</p><p>- <a href="command/scaladsl/CommandResponseManager.html" class="extype" name="csw.services.command.scaladsl.CommandResponseManager">csw.services.command.scaladsl.CommandResponseManager</a>
This class wraps CommandResponseManagerActor and provides helpers to interact with actor
which is responsible for adding/updating/querying command result.
Component writers will get handle to CommandResponseManager in their handlers.
When component receives command of type <a href="../messages/CommandMessage$$Submit.html" class="extype" name="csw.messages.CommandMessage.Submit">csw.messages.CommandMessage.Submit</a>,
then framework (ComponentBehavior - TLA) will add a entry of this command with its validation status into CSRM (CommandResponseManager).</p><p>In case of short running or immediate command,
validation response will be of type final result which can either be of type
<a href="../messages/commands/CommandResultType$$Positive$.html" class="extype" name="csw.messages.commands.CommandResultType.Positive">csw.messages.commands.CommandResultType.Positive</a> or <a href="../messages/commands/CommandResultType$$Negative$.html" class="extype" name="csw.messages.commands.CommandResultType.Negative">csw.messages.commands.CommandResultType.Negative</a></p><p>In case of long running command, validation response will be of type <a href="../messages/commands/CommandResultType$$Intermediate$.html" class="extype" name="csw.messages.commands.CommandResultType.Intermediate">csw.messages.commands.CommandResultType.Intermediate</a>
then it is the responsibility of component writer to update its final command status later on
with <a href="../messages/commands/CommandResponse.html" class="extype" name="csw.messages.commands.CommandResponse">csw.messages.commands.CommandResponse</a> which should be of type
<a href="../messages/commands/CommandResultType$$Positive$.html" class="extype" name="csw.messages.commands.CommandResultType.Positive">csw.messages.commands.CommandResultType.Positive</a> or <a href="../messages/commands/CommandResultType$$Negative$.html" class="extype" name="csw.messages.commands.CommandResultType.Negative">csw.messages.commands.CommandResultType.Negative</a></p><p>CommandResponseManager also provides **subscribe** API.
One of the use case for this is when Assembly splits top level command into two sub commands and forwards them to two different HCD's.
In this case, Assembly can register its interest in the final <a href="../messages/commands/CommandResponse.html" class="extype" name="csw.messages.commands.CommandResponse">csw.messages.commands.CommandResponse</a>
from two HCD's when these sub commands completes using **subscribe** API.
And once Assembly receives final command response from both the HCD's
then it can update Top level command with final <a href="../messages/commands/CommandResponse.html" class="extype" name="csw.messages.commands.CommandResponse">csw.messages.commands.CommandResponse</a></p><p>- <a href="command/scaladsl/CommandService.html" class="extype" name="csw.services.command.scaladsl.CommandService">csw.services.command.scaladsl.CommandService</a>
This class wraps the <a href="../messages/location/AkkaLocation.html" class="extype" name="csw.messages.location.AkkaLocation">csw.messages.location.AkkaLocation</a> and provides helpers to send commands to component actor extracted from provided location.
Normal component writers workflow would be to first resolve component using location service and then create CommandService instance using resolved location.</p><p>Using this instance, you can Submit Command/Commands to other component or query for command result or subscribe for long running command result.</p><h5> Example of CommandService Usage </h5><pre>async{
   <span class="cmt">// here assemblyLocation is the resolved assembly location using LocationService</span>
   <span class="kw">val</span> assemblyConfigService = <span class="kw">new</span> CommandService(assemblyLocation)

   <span class="cmt">// here setupCommand is a ControlCommand which is created with prefix, command name, obs id and set of Parameters</span>
   <span class="kw">val</span> initialResponse = await(assemblyConfigService.submit(setupCommand))
   <span class="cmt">// this can be a response of validation (Accepted, Invalid) or a final Response.</span>
   <span class="cmt">// in case of response as `Accepted`, final CommandResponse can be obtained by using `subscribe` API.</span>

   <span class="cmt">// suppose initialResponse is Accepted, then you can use subscribe API to obtain final response</span>
   <span class="kw">val</span> finalResponse = await(assemblyConfigService.subscribe(setupCommand.runId))
}</pre><p>- <a href="command/scaladsl/CommandDistributor.html" class="extype" name="csw.services.command.scaladsl.CommandDistributor">csw.services.command.scaladsl.CommandDistributor</a>
The ConfigDistributor enables distributing multiple commands to multiple components and get one aggregated command
response as a final response.</p><h5> Example of CommandDistributor Usage </h5><pre>  <span class="cmt">// here hcdACommandService and hcdBCommandService are instances of CommandService created using HCD-A and HCD-B locations</span>
  <span class="cmt">// setup1HcdA and setup2HcdA are Setup commands which are targeted to HCD-A</span>
  <span class="cmt">// setup1HcdB and setup2HcdB are Setup commands which are targeted to HCD-B</span>
  <span class="kw">val</span> aggregatedValidationResponse = CommandDistributor(
<span class="std">Map</span>(hcdACommandService → <span class="std">Set</span>(setup1HcdA, setup2HcdA), hcdBCommandService → <span class="std">Set</span>(setup1HcdB, setup2HcdB))
).aggregatedValidationResponse()</pre></div></div>
    </li><li name="csw.services.config" visbl="pub" class="indented3 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="config"></a><a id="config:config"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#config" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="config/index.html"><span class="name">config</span></a>
      </span>
      
      
    </li><li name="csw.services.event" visbl="pub" class="indented3 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="event"></a><a id="event:event"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#event" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="event/index.html"><span class="name">event</span></a>
      </span>
      
      
    </li><li name="csw.services.location" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="location"></a><a id="location:location"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#location" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="The Location Service implemented in this project is based on CRDT (Conflict Free Replicated Data)." href="location/index.html"><span class="name">location</span></a>
      </span>
      
      <p class="shortcomment cmt">The Location Service implemented in this project is based on CRDT (Conflict Free Replicated Data).</p><div class="fullcomment"><div class="comment cmt"><h4> Location Service </h4><p>The Location Service implemented in this project is based on CRDT (Conflict Free Replicated Data).
The Location Service helps you resolve the hostname and port number for a services which can be used for further communication,
In case of Akka connection, It helps you to resolve component reference with which you can send messages
as well as other information for example, logAdminActorRef which is used to dynamically change the log level of component.</p><p>Location Service supports three types of services as follows: Akka, Tcp and HTTP based services.</p><p>Before calling LocationServiceFactory.make() to get an handle of LocationService,
it is recommended to have below environment variables set to System global environments or system properties:</p><ul><li>interfaceName (The network interface where akka cluster is formed.) Ex. interfaceName=eth0 if not set, first inet4 interface by priority will be picked</li><li>clusterSeeds (The host address and port of the seedNodes of the cluster) Ex. clusterSeeds=&quot;192.168.121.10:3552, 192.168.121.11:3552&quot;</li><li>clusterPort (Specify port on which to start this service) Ex. clusterPort=3552 if this property is not set, service will start on random port.</li></ul><p>To use location service, first you have to get an instance of location service using below code:</p><pre><span class="kw">val</span> locationService: LocationService = LocationServiceFactory.make()</pre><h5> Register API </h5><p>To register an Akka actor based service, you can use code like this:</p><pre>locationService.register(AkkaRegistration(AkkaConnection(componentId), self))</pre><p>Where self is a reference to the services own actorRef.</p><p>To register an HTTP based service, you can make a call like this:</p><pre>locationService.register(HttpRegistration(HttpConnection(componentId), Port, Path))</pre><p>Here you specify port and path like &quot;/hcd/trombone&quot;, hostname for the local host is automatically determined.</p><p>To register an Tcp based service, you can make a call like this:</p><pre>locationService.register(TcpRegistration(TcpConnection(componentId), Port))</pre><p>Here you specify port and hostname for the local host is automatically determined.</p><h5> Resolve/Find API </h5><p>If you are unsure of whether service/component entry exists in location service or not and fine to wait for its availability for some duration,
then you can use below API to resolve Akka connection:</p><pre>locationService.resolve(TcpConnection(componentId), <span class="num">2.</span>seconds))</pre><p>If you are sure that service/component entry exists in location service,
then you can use below API to find Akka connection from local replicated database:</p><pre>locationService.find(TcpConnection(componentId))</pre><h5> Resolve and Communicate with Component </h5><p>If you want to resolve some component and then want to send messages to that component,
then you should use resolve/find API which gives Location.
Using this Location, you can create command service like</p><pre><span class="kw">new</span> CommandService(akkaLocation)}}

then using <span class="kw">this</span> instance of command service, you can send messages to component.
For more details, visit command service documentation.</pre></div></div>
    </li><li name="csw.services.logging" visbl="pub" class="indented3 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="logging"></a><a id="logging:logging"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#logging" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="The package for the logging API." href="logging/index.html"><span class="name">logging</span></a>
      </span>
      
      <p class="shortcomment cmt">The package for the logging API.</p>
    </li><li class="current-entities indented2">
                        <span class="separator"></span>
                        <a class="object" href="BuildInfo$.html" title="This object was generated by sbt-buildinfo."></a>
                        <a href="BuildInfo$.html" title="This object was generated by sbt-buildinfo.">BuildInfo</a>
                      </li>
              </ul>
            </div>
          </div>
          <div id="content">
            <body class="package value">
      <div id="definition">
        <div class="big-circle package">p</div>
        <p id="owner"><a href="../index.html" class="extype" name="csw">csw</a></p>
        <h1>services<span class="permalink">
      <a href="../../csw/services/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span></h1>
        
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">services</span>
      </span>
      </h4>

      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div class="toggle"></div>
        <div id="memberfilter">
          <i class="material-icons arrow"></i>
          <span class="input">
            <input id="mbrsel-input" placeholder="Filter all members" type="text" accesskey="/" />
          </span>
          <i class="clear material-icons"></i>
        </div>
        <div id="filterby">
          <div id="order">
            <span class="filtertype">Ordering</span>
            <ol>
              
              <li class="alpha in"><span>Alphabetic</span></li>
              
            </ol>
          </div>
          
          <div id="visbl">
              <span class="filtertype">Visibility</span>
              <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
            </div>
        </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        

        

        <div class="values members">
              <h3>Value Members</h3>
              <ol>
                <li name="csw.services.BuildInfo" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="BuildInfo"></a><a id="BuildInfo:BuildInfo"></a>
      <span class="permalink">
      <a href="../../csw/services/index.html#BuildInfo" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="This object was generated by sbt-buildinfo." href="BuildInfo$.html"><span class="name">BuildInfo</span></a><span class="result"> extends <a href="http://scala-lang.org/files/archive/api/2.12.4/scala/Product.html#scala.Product" class="extype" name="scala.Product">Product</a> with <a href="http://scala-lang.org/files/archive/api/2.12.4/scala/Serializable.html#scala.Serializable" class="extype" name="scala.Serializable">Serializable</a></span>
      </span>
      
      <p class="shortcomment cmt">This object was generated by sbt-buildinfo.</p>
    </li>
              </ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>
    </body>
          </div>
        </div>
      </div>
    </body>
      </html>
